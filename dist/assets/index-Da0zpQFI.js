var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=e=>{throw TypeError(e)},l=Math.pow,c=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,d=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))i.call(t,n)&&c(e,n,t[n]);return e},u=(e,r)=>t(e,n(r)),h=(e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&i.call(e,r)&&(n[r]=e[r]);return n},m=(e,t,n)=>c(e,"symbol"!=typeof t?t+"":t,n),v=(e,t,n)=>t.has(e)||o("Cannot "+n),p=(e,t,n)=>(v(e,t,"read from private field"),n?n.call(e):t.get(e)),f=(e,t,n)=>t.has(e)?o("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),x=(e,t,n,r)=>(v(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),g=(e,t,n)=>(v(e,t,"access private method"),n),b=(e,t,n,r)=>({set _(r){x(e,t,r,n)},get _(){return p(e,t,r)}}),y=(e,t,n)=>new Promise((r,a)=>{var s=e=>{try{o(n.next(e))}catch(t){a(t)}},i=e=>{try{o(n.throw(e))}catch(t){a(t)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,i);o((n=n.apply(e,t)).next())});import{j as w,C as j,B as N,G as _,a as C,b as k,P as S,I as E}from"./ui-CnO8vT_7.js";import{a as R,r as M,R as D,b as O}from"./vendor-CyvzqkFf.js";var L,P,T=(L={"assets/index-Da0zpQFI.js"(e){var t,n,r,a,s,i,o,c,v,L,P,T,A,I,F,B,z,W,U,q,H,$,K,Q,V,Y,G,J,X,Z,ee,te,ne,re,ae,se,ie,oe,le,ce,de,ue;!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var he,me,ve=R;
/**
     * @remix-run/router v1.23.0
     *
     * Copyright (c) Remix Software Inc.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE.md file in the root directory of this source tree.
     *
     * @license MIT
     */
function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(this,arguments)}ue=ve.createRoot,ve.hydrateRoot,(me=he||(he={})).Pop="POP",me.Push="PUSH",me.Replace="REPLACE";const fe="popstate";function xe(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:s=!1}=r,i=a.history,o=he.Pop,l=null,c=d();function d(){return(i.state||{idx:null}).idx}function u(){o=he.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function h(e,t){o=he.Push;let n=we(p.location,e,t);c=d()+1;let r=ye(n,c),u=p.createHref(n);try{i.pushState(r,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(u)}s&&l&&l({action:o,location:p.location,delta:1})}function m(e,t){o=he.Replace;let n=we(p.location,e,t);c=d();let r=ye(n,c),a=p.createHref(n);i.replaceState(r,"",a),s&&l&&l({action:o,location:p.location,delta:0})}function v(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"==typeof e?e:je(e);return n=n.replace(/ $/,"%20"),ge(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,i.replaceState(pe({},i.state,{idx:c}),""));let p={get action(){return o},get location(){return e(a,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(fe,u),l=e,()=>{a.removeEventListener(fe,u),l=null}},createHref:e=>t(a,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:m,go:e=>i.go(e)};return p}(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return we("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:je(t)},0,e)}function ge(e,t){if(!1===e||null==e)throw new Error(t)}function be(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ye(e,t){return{usr:e.state,key:e.key,idx:t}}function we(e,t,n,r){return void 0===n&&(n=null),pe({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Ne(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function je(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Ne(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var _e,Ce;function ke(e,t,n){return void 0===n&&(n="/"),function(e,t,n){let r="string"==typeof t?Ne(t):t,a=Te(r.pathname||"/",n);if(null==a)return null;let s=Se(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=Pe(a);i=Oe(s[o],e)}return i}(e,t,n)}function Se(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(ge(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=Be([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(ge(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Se(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:De(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Ee(e.path))a(e,t,r);else a(e,t)}),t}function Ee(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=Ee(r.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}(Ce=_e||(_e={})).data="data",Ce.deferred="deferred",Ce.redirect="redirect",Ce.error="error";const Re=/^:[\w-]+$/,Me=e=>"*"===e;function De(e,t){let n=e.split("/"),r=n.length;return n.some(Me)&&(r+=-2),t&&(r+=2),n.filter(e=>!Me(e)).reduce((e,t)=>e+(Re.test(t)?3:""===t?1:10),r)}function Oe(e,t,n){let{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],n=o===r.length-1,l="/"===s?t:t.slice(s.length)||"/",c=Le({path:e.relativePath,caseSensitive:e.caseSensitive,end:n},l),d=e.route;if(!c)return null;Object.assign(a,c.params),i.push({params:a,pathname:Be([s,c.pathname]),pathnameBase:ze(Be([s,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(s=Be([s,c.pathnameBase]))}return i}function Le(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),be("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function Pe(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return be(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Te(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Ae(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Ie(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function Fe(e,t,n,r){let a;void 0===r&&(r=!1),"string"==typeof e?a=Ne(e):(a=pe({},e),ge(!a.pathname||!a.pathname.includes("?"),Ae("?","pathname","search",a)),ge(!a.pathname||!a.pathname.includes("#"),Ae("#","pathname","hash",a)),ge(!a.search||!a.search.includes("#"),Ae("#","search","hash",a)));let s,i=""===e||""===a.pathname,o=i?"/":a.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"==typeof e?Ne(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:We(r),hash:Ue(a)}}(a,s),c=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const Be=e=>e.join("/").replace(/\/\/+/g,"/"),ze=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),We=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ue=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",qe=["post","put","patch","delete"];new Set(qe);const He=["get",...qe];
/**
     * React Router v6.30.1
     *
     * Copyright (c) Remix Software Inc.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE.md file in the root directory of this source tree.
     *
     * @license MIT
     */
function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}new Set(He);const Ke=M.createContext(null),Qe=M.createContext(null),Ve=M.createContext(null),Ye=M.createContext(null),Ge=M.createContext({outlet:null,matches:[],isDataRoute:!1}),Je=M.createContext(null);function Xe(){return null!=M.useContext(Ye)}function Ze(){return Xe()||ge(!1),M.useContext(Ye).location}function et(e){M.useContext(Ve).static||M.useLayoutEffect(e)}function tt(){let{isDataRoute:e}=M.useContext(Ge);return e?function(){let{router:e}=function(){let e=M.useContext(Ke);return e||ge(!1),e}(lt.UseNavigateStable),t=dt(ct.UseNavigateStable),n=M.useRef(!1);return et(()=>{n.current=!0}),M.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,$e({fromRouteId:t},a)))},[e,t])}():function(){Xe()||ge(!1);let e=M.useContext(Ke),{basename:t,future:n,navigator:r}=M.useContext(Ve),{matches:a}=M.useContext(Ge),{pathname:s}=Ze(),i=JSON.stringify(Ie(a,n.v7_relativeSplatPath)),o=M.useRef(!1);return et(()=>{o.current=!0}),M.useCallback(function(n,a){if(void 0===a&&(a={}),!o.current)return;if("number"==typeof n)return void r.go(n);let l=Fe(n,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Be([t,l.pathname])),(a.replace?r.replace:r.push)(l,a.state,a)},[t,r,i,s,e])}()}function nt(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=M.useContext(Ve),{matches:a}=M.useContext(Ge),{pathname:s}=Ze(),i=JSON.stringify(Ie(a,r.v7_relativeSplatPath));return M.useMemo(()=>Fe(e,JSON.parse(i),s,"path"===n),[e,i,s,n])}function rt(e,t){return function(e,t,n,r){Xe()||ge(!1);let{navigator:a}=M.useContext(Ve),{matches:s}=M.useContext(Ge),i=s[s.length-1],o=i?i.params:{};!i||i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c,d=Ze();if(t){var u;let e="string"==typeof t?Ne(t):t;"/"===l||(null==(u=e.pathname)?void 0:u.startsWith(l))||ge(!1),c=e}else c=d;let h=c.pathname||"/",m=h;if("/"!==l){let e=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=ke(e,{pathname:m}),p=function(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,o=null==(a=n)?void 0:a.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||ge(!1),i=i.slice(0,Math.min(i.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let e=i[d];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=d),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){l=!0,i=c>=0?i.slice(0,c+1):[i[0]];break}}}return i.reduceRight((e,r,a)=>{let s,d=!1,u=null,h=null;var m;n&&(s=o&&r.route.id?o[r.route.id]:void 0,u=r.route.errorElement||st,l&&(c<0&&0===a?(ut[m="route-fallback"]||(ut[m]=!0),d=!0,h=null):c===a&&(d=!0,h=r.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,a+1)),p=()=>{let t;return t=s?u:d?h:r.route.Component?M.createElement(r.route.Component,null):r.route.element?r.route.element:e,M.createElement(ot,{match:r,routeContext:{outlet:e,matches:v,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?M.createElement(it,{location:n.location,revalidation:n.revalidation,component:u,error:s,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Be([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Be([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,r);return t&&p?M.createElement(Ye.Provider,{value:{location:$e({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:he.Pop}},p):p}(e,t)}function at(){let e=function(){var e;let t=M.useContext(Je),n=function(){let e=M.useContext(Qe);return e||ge(!1),e}(),r=dt();return void 0!==t?t:null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:r},n):null,null)}const st=M.createElement(at,null);class it extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?M.createElement(Ge.Provider,{value:this.props.routeContext},M.createElement(Je.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ot(e){let{routeContext:t,match:n,children:r}=e,a=M.useContext(Ke);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Ge.Provider,{value:t},r)}var lt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lt||{}),ct=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ct||{});function dt(e){let t=function(){let e=M.useContext(Ge);return e||ge(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||ge(!1),n.route.id}const ut={};function ht(e){ge(!1)}function mt(e){let{basename:t="/",children:n=null,location:r,navigationType:a=he.Pop,navigator:s,static:i=!1,future:o}=e;Xe()&&ge(!1);let l=t.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:l,navigator:s,static:i,future:$e({v7_relativeSplatPath:!1},o)}),[l,o,s,i]);"string"==typeof r&&(r=Ne(r));let{pathname:d="/",search:u="",hash:h="",state:m=null,key:v="default"}=r,p=M.useMemo(()=>{let e=Te(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:m,key:v},navigationType:a}},[l,d,u,h,m,v,a]);return null==p?null:M.createElement(Ve.Provider,{value:c},M.createElement(Ye.Provider,{children:n,value:p}))}function vt(e){let{children:t,location:n}=e;return rt(pt(t),n)}function pt(e,t){void 0===t&&(t=[]);let n=[];return M.Children.forEach(e,(e,r)=>{if(!M.isValidElement(e))return;let a=[...t,r];if(e.type===M.Fragment)return void n.push.apply(n,pt(e.props.children,a));e.type!==ht&&ge(!1),e.props.index&&e.props.children&&ge(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=pt(e.props.children,a)),n.push(s)}),n}
/**
     * React Router DOM v6.30.1
     *
     * Copyright (c) Remix Software Inc.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE.md file in the root directory of this source tree.
     *
     * @license MIT
     */function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ft.apply(this,arguments)}new Promise(()=>{});const xt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(gi){}const gt=D.startTransition;function bt(e){let{basename:t,children:n,future:r,window:a}=e,s=M.useRef();null==s.current&&(s.current=xe({window:a,v5Compat:!0}));let i=s.current,[o,l]=M.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},d=M.useCallback(e=>{c&&gt?gt(()=>l(e)):l(e)},[l,c]);return M.useLayoutEffect(()=>i.listen(d),[i,d]),M.useEffect(()=>{return null==(e=r)||e.v7_startTransition,void(null==e||e.v7_relativeSplatPath);var e},[r]),M.createElement(mt,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const yt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,wt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=M.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:s,replace:i,state:o,target:l,to:c,preventScrollReset:d,viewTransition:u}=e,h=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,xt),{basename:m}=M.useContext(Ve),v=!1;if("string"==typeof c&&wt.test(c)&&(n=c,yt))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=Te(t.pathname,m);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:v=!0}catch(gi){}let p=function(e,t){let{relative:n}=void 0===t?{}:t;Xe()||ge(!1);let{basename:r,navigator:a}=M.useContext(Ve),{hash:s,pathname:i,search:o}=nt(e,{relative:n}),l=i;return"/"!==r&&(l="/"===i?r:Be([r,i])),a.createHref({pathname:l,search:o,hash:s})}(c,{relative:a}),f=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:o}=void 0===t?{}:t,l=tt(),c=Ze(),d=nt(e,{relative:i});return M.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:je(c)===je(d);l(e,{replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,d,r,a,n,e,s,i,o])}(c,{replace:i,state:o,target:l,preventScrollReset:d,relative:a,viewTransition:u});return M.createElement("a",ft({},h,{href:n||p,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||f(e)},ref:t,target:l}))});var Nt,_t,Ct,kt;(_t=Nt||(Nt={})).UseScrollRestoration="useScrollRestoration",_t.UseSubmit="useSubmit",_t.UseSubmitFetcher="useSubmitFetcher",_t.UseFetcher="useFetcher",_t.useViewTransitionState="useViewTransitionState",(kt=Ct||(Ct={})).UseFetcher="useFetcher",kt.UseFetchers="useFetchers",kt.UseScrollRestoration="useScrollRestoration";var St=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Et="undefined"==typeof window||"Deno"in globalThis;function Rt(){}function Mt(e,t){return"function"==typeof e?e(t):e}function Dt(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:s,queryKey:i,stale:o}=e;if(i)if(r){if(t.queryHash!==Lt(i,t.options))return!1}else if(!Tt(t.queryKey,i))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return!("boolean"==typeof o&&t.isStale()!==o||a&&a!==t.state.fetchStatus||s&&!s(t))}function Ot(e,t){const{exact:n,status:r,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Pt(t.options.mutationKey)!==Pt(s))return!1}else if(!Tt(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function Lt(e,t){return((null==t?void 0:t.queryKeyHashFn)||Pt)(e)}function Pt(e){return JSON.stringify(e,(e,t)=>Ft(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function Tt(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(n=>Tt(e[n],t[n]))}function At(e,t){if(e===t)return e;const n=It(e)&&It(t);if(n||Ft(e)&&Ft(t)){const r=n?e:Object.keys(e),a=r.length,s=n?t:Object.keys(t),i=s.length,o=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<i;d++){const r=n?d:s[d];(!n&&l.has(r)||n)&&void 0===e[r]&&void 0===t[r]?(o[r]=void 0,c++):(o[r]=At(e[r],t[r]),o[r]===e[r]&&void 0!==e[r]&&c++)}return a===i&&c===a?e:o}return t}function It(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ft(e){if(!Bt(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!Bt(n)&&!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function Bt(e){return"[object Object]"===Object.prototype.toString.call(e)}function zt(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?At(e,t):t}function Wt(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Ut(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var qt=Symbol();function Ht(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==qt?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var $t=new(a=class extends St{constructor(){super(),f(this,t),f(this,n),f(this,r),x(this,r,e=>{if(!Et&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){p(this,n)||this.setEventListener(p(this,r))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=p(this,n))||e.call(this),x(this,n,void 0))}setEventListener(e){var t;x(this,r,e),null==(t=p(this,n))||t.call(this),x(this,n,e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){p(this,t)!==e&&(x(this,t,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"==typeof p(this,t)?p(this,t):"hidden"!==(null==(e=globalThis.document)?void 0:e.visibilityState)}},t=new WeakMap,n=new WeakMap,r=new WeakMap,a),Kt=new(c=class extends St{constructor(){super(),f(this,s,!0),f(this,i),f(this,o),x(this,o,e=>{if(!Et&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){p(this,i)||this.setEventListener(p(this,o))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=p(this,i))||e.call(this),x(this,i,void 0))}setEventListener(e){var t;x(this,o,e),null==(t=p(this,i))||t.call(this),x(this,i,e(this.setOnline.bind(this)))}setOnline(e){p(this,s)!==e&&(x(this,s,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return p(this,s)}},s=new WeakMap,i=new WeakMap,o=new WeakMap,c);function Qt(e){return Math.min(1e3*l(2,e),3e4)}function Vt(e){return"online"!==(null!=e?e:"online")||Kt.isOnline()}var Yt=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function Gt(e){return e instanceof Yt}function Jt(e){let t,n=!1,r=0,a=!1;const s=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),i=()=>$t.isFocused()&&("always"===e.networkMode||Kt.isOnline())&&e.canRun(),o=()=>Vt(e.networkMode)&&e.canRun(),l=n=>{var r;a||(a=!0,null==(r=e.onSuccess)||r.call(e,n),null==t||t(),s.resolve(n))},c=n=>{var r;a||(a=!0,null==(r=e.onError)||r.call(e,n),null==t||t(),s.reject(n))},d=()=>new Promise(n=>{var r;t=e=>{(a||i())&&n(e)},null==(r=e.onPause)||r.call(e)}).then(()=>{var n;t=void 0,a||null==(n=e.onContinue)||n.call(e)}),u=()=>{if(a)return;let t;const s=0===r?e.initialPromise:void 0;try{t=null!=s?s:e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{var s,o,l;if(a)return;const h=null!=(s=e.retry)?s:Et?0:3,m=null!=(o=e.retryDelay)?o:Qt,v="function"==typeof m?m(r,t):m,p=!0===h||"number"==typeof h&&r<h||"function"==typeof h&&h(r,t);var f;!n&&p?(r++,null==(l=e.onFail)||l.call(e,r,t),(f=v,new Promise(e=>{setTimeout(e,f)})).then(()=>i()?void 0:d()).then(()=>{n?c(t):u()})):c(t)})};return{promise:s,cancel:t=>{var n;a||(c(new Yt(t)),null==(n=e.abort)||n.call(e))},continue:()=>(null==t||t(),s),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?u():d().then(u),s)}}var Xt=e=>setTimeout(e,0),Zt=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},a=Xt;const s=r=>{t?e.push(r):a(()=>{n(r)})};return{batch:s=>{let i;t++;try{i=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&a(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return i},batchCalls:e=>(...t)=>{s(()=>{e(...t)})},schedule:s,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{a=e}}}(),en=(L=class{constructor(){f(this,v)}destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&x(this,v,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!=e?e:Et?1/0:3e5)}clearGcTimeout(){p(this,v)&&(clearTimeout(p(this,v)),x(this,v,void 0))}},v=new WeakMap,L),tn=(q=class extends en{constructor(e){var t;super(),f(this,W),f(this,P),f(this,T),f(this,A),f(this,I),f(this,F),f(this,B),f(this,z),x(this,z,!1),x(this,B,e.defaultOptions),this.setOptions(e.options),this.observers=[],x(this,I,e.client),x(this,A,p(this,I).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,x(this,P,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!=r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=null!=(t=e.state)?t:p(this,P),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=p(this,F))?void 0:e.promise}setOptions(e){this.options=d(d({},p(this,B)),e),this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||p(this,A).remove(this)}setData(e,t){const n=zt(this.state.data,e,this.options);return g(this,W,U).call(this,{data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){g(this,W,U).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null==(t=p(this,F))?void 0:t.promise;return null==(n=p(this,F))||n.cancel(e),r?r.then(Rt).catch(Rt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(p(this,P))}isActive(){return this.observers.some(e=>{return!1!==(t=e.options.enabled,n=this,"function"==typeof t?t(n):t);var t,n})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Mt(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null==t||t.refetch({cancelRefetch:!1}),null==(e=p(this,F))||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null==t||t.refetch({cancelRefetch:!1}),null==(e=p(this,F))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),p(this,A).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(p(this,F)&&(p(this,z)?p(this,F).cancel({revert:!0}):p(this,F).cancelRetry()),this.scheduleGc()),p(this,A).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||g(this,W,U).call(this,{type:"invalidate"})}fetch(e,t){var n,r,a;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(p(this,F))return p(this,F).continueRetry(),p(this,F).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const s=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(x(this,z,!0),s.signal)})},o=()=>{const e=Ht(this.options,t),n=(()=>{const e={client:p(this,I),queryKey:this.queryKey,meta:this.meta};return i(e),e})();return x(this,z,!1),this.options.persister?this.options.persister(e,n,this):e(n)},l=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:p(this,I),state:this.state,fetchFn:o};return i(e),e})();null==(n=this.options.behavior)||n.onFetch(l,this),x(this,T,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(r=l.fetchOptions)?void 0:r.meta)||g(this,W,U).call(this,{type:"fetch",meta:null==(a=l.fetchOptions)?void 0:a.meta});const c=e=>{var t,n,r,a;Gt(e)&&e.silent||g(this,W,U).call(this,{type:"error",error:e}),Gt(e)||(null==(n=(t=p(this,A).config).onError)||n.call(t,e,this),null==(a=(r=p(this,A).config).onSettled)||a.call(r,this.state.data,e,this)),this.scheduleGc()};return x(this,F,Jt({initialPromise:null==t?void 0:t.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:e=>{var t,n,r,a;if(void 0!==e){try{this.setData(e)}catch(s){return void c(s)}null==(n=(t=p(this,A).config).onSuccess)||n.call(t,e,this),null==(a=(r=p(this,A).config).onSettled)||a.call(r,e,this.state.error,this),this.scheduleGc()}else c(new Error(`${this.queryHash} data is undefined`))},onError:c,onFail:(e,t)=>{g(this,W,U).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{g(this,W,U).call(this,{type:"pause"})},onContinue:()=>{g(this,W,U).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),p(this,F).start()}},P=new WeakMap,T=new WeakMap,A=new WeakMap,I=new WeakMap,F=new WeakMap,B=new WeakMap,z=new WeakMap,W=new WeakSet,U=function(e){this.state=(t=>{var n,r,a,s;switch(e.type){case"failed":return u(d({},t),{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return u(d({},t),{fetchStatus:"paused"});case"continue":return u(d({},t),{fetchStatus:"fetching"});case"fetch":return u(d(d({},t),(a=t.data,s=this.options,d({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Vt(s.networkMode)?"fetching":"paused"},void 0===a&&{error:null,status:"pending"}))),{fetchMeta:null!=(n=e.meta)?n:null});case"success":return x(this,T,void 0),d(u(d({},t),{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(r=e.dataUpdatedAt)?r:Date.now(),error:null,isInvalidated:!1,status:"success"}),!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const i=e.error;return Gt(i)&&i.revert&&p(this,T)?u(d({},p(this,T)),{fetchStatus:"idle"}):u(d({},t),{error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"});case"invalidate":return u(d({},t),{isInvalidated:!0});case"setState":return d(d({},t),e.state)}})(this.state),Zt.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),p(this,A).notify({query:this,type:"updated",action:e})})},q),nn=($=class extends St{constructor(e={}){super(),f(this,H),this.config=e,x(this,H,new Map)}build(e,t,n){var r;const a=t.queryKey,s=null!=(r=t.queryHash)?r:Lt(a,t);let i=this.get(s);return i||(i=new tn({client:e,queryKey:a,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(i)),i}add(e){p(this,H).has(e.queryHash)||(p(this,H).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=p(this,H).get(e.queryHash);t&&(e.destroy(),t===e&&p(this,H).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return p(this,H).get(e)}getAll(){return[...p(this,H).values()]}find(e){const t=d({exact:!0},e);return this.getAll().find(e=>Dt(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Dt(e,t)):t}notify(e){Zt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},H=new WeakMap,$),rn=(J=class extends en{constructor(e){super(),f(this,Y),f(this,K),f(this,Q),f(this,V),this.mutationId=e.mutationId,x(this,Q,e.mutationCache),x(this,K,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){p(this,K).includes(e)||(p(this,K).push(e),this.clearGcTimeout(),p(this,Q).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){x(this,K,p(this,K).filter(t=>t!==e)),this.scheduleGc(),p(this,Q).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){p(this,K).length||("pending"===this.state.status?this.scheduleGc():p(this,Q).remove(this))}continue(){var e,t;return null!=(t=null==(e=p(this,V))?void 0:e.continue())?t:this.execute(this.state.variables)}execute(e){return y(this,null,function*(){var t,n,r,a,s,i,o,l,c,d,u,h,m,v,f,b,y,w,j,N,_;const C=()=>{g(this,Y,G).call(this,{type:"continue"})};x(this,V,Jt({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{g(this,Y,G).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{g(this,Y,G).call(this,{type:"pause"})},onContinue:C,retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>p(this,Q).canRun(this)}));const k="pending"===this.state.status,S=!p(this,V).canStart();try{if(k)C();else{g(this,Y,G).call(this,{type:"pending",variables:e,isPaused:S}),yield null==(r=(n=p(this,Q).config).onMutate)?void 0:r.call(n,e,this);const t=yield null==(s=(a=this.options).onMutate)?void 0:s.call(a,e);t!==this.state.context&&g(this,Y,G).call(this,{type:"pending",context:t,variables:e,isPaused:S})}const t=yield p(this,V).start();return yield null==(o=(i=p(this,Q).config).onSuccess)?void 0:o.call(i,t,e,this.state.context,this),yield null==(c=(l=this.options).onSuccess)?void 0:c.call(l,t,e,this.state.context),yield null==(u=(d=p(this,Q).config).onSettled)?void 0:u.call(d,t,null,this.state.variables,this.state.context,this),yield null==(m=(h=this.options).onSettled)?void 0:m.call(h,t,null,e,this.state.context),g(this,Y,G).call(this,{type:"success",data:t}),t}catch(E){try{throw yield null==(f=(v=p(this,Q).config).onError)?void 0:f.call(v,E,e,this.state.context,this),yield null==(y=(b=this.options).onError)?void 0:y.call(b,E,e,this.state.context),yield null==(j=(w=p(this,Q).config).onSettled)?void 0:j.call(w,void 0,E,this.state.variables,this.state.context,this),yield null==(_=(N=this.options).onSettled)?void 0:_.call(N,void 0,E,e,this.state.context),E}finally{g(this,Y,G).call(this,{type:"error",error:E})}}finally{p(this,Q).runNext(this)}})}},K=new WeakMap,Q=new WeakMap,V=new WeakMap,Y=new WeakSet,G=function(e){this.state=(t=>{switch(e.type){case"failed":return u(d({},t),{failureCount:e.failureCount,failureReason:e.error});case"pause":return u(d({},t),{isPaused:!0});case"continue":return u(d({},t),{isPaused:!1});case"pending":return u(d({},t),{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return u(d({},t),{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return u(d({},t),{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),Zt.batch(()=>{p(this,K).forEach(t=>{t.onMutationUpdate(e)}),p(this,Q).notify({mutation:this,type:"updated",action:e})})},J),an=(te=class extends St{constructor(e={}){super(),f(this,X),f(this,Z),f(this,ee),this.config=e,x(this,X,new Set),x(this,Z,new Map),x(this,ee,0)}build(e,t,n){const r=new rn({mutationCache:this,mutationId:++b(this,ee)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){p(this,X).add(e);const t=sn(e);if("string"==typeof t){const n=p(this,Z).get(t);n?n.push(e):p(this,Z).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(p(this,X).delete(e)){const t=sn(e);if("string"==typeof t){const n=p(this,Z).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&p(this,Z).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=sn(e);if("string"==typeof t){const n=p(this,Z).get(t),r=null==n?void 0:n.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){var t,n;const r=sn(e);if("string"==typeof r){const a=null==(t=p(this,Z).get(r))?void 0:t.find(t=>t!==e&&t.state.isPaused);return null!=(n=null==a?void 0:a.continue())?n:Promise.resolve()}return Promise.resolve()}clear(){Zt.batch(()=>{p(this,X).forEach(e=>{this.notify({type:"removed",mutation:e})}),p(this,X).clear(),p(this,Z).clear()})}getAll(){return Array.from(p(this,X))}find(e){const t=d({exact:!0},e);return this.getAll().find(e=>Ot(t,e))}findAll(e={}){return this.getAll().filter(t=>Ot(e,t))}notify(e){Zt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return Zt.batch(()=>Promise.all(e.map(e=>e.continue().catch(Rt))))}},X=new WeakMap,Z=new WeakMap,ee=new WeakMap,te);function sn(e){var t;return null==(t=e.options.scope)?void 0:t.id}function on(e){return{onFetch:(t,n)=>{var r,a,s,i,o;const l=t.options,c=null==(s=null==(a=null==(r=t.fetchOptions)?void 0:r.meta)?void 0:a.fetchMore)?void 0:s.direction,d=(null==(i=t.state.data)?void 0:i.pages)||[],u=(null==(o=t.state.data)?void 0:o.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const v=()=>y(this,null,function*(){var n;let r=!1;const a=Ht(t.options,t.fetchOptions),s=(e,n,s)=>y(this,null,function*(){if(r)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);const i=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:n,direction:s?"backward":"forward",meta:t.options.meta};var a;return a=e,Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)}),e})(),o=yield a(i),{maxPages:l}=t.options,c=s?Ut:Wt;return{pages:c(e.pages,o,l),pageParams:c(e.pageParams,n,l)}});if(c&&d.length){const e="backward"===c,t={pages:d,pageParams:u},n=(e?cn:ln)(l,t);h=yield s(t,n,e)}else{const t=null!=e?e:d.length;do{const e=0===m?null!=(n=u[0])?n:l.initialPageParam:ln(l,h);if(m>0&&null==e)break;h=yield s(h,e),m++}while(m<t)}return h});t.options.persister?t.fetchFn=()=>{var e,r;return null==(r=(e=t.options).persister)?void 0:r.call(e,v,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=v}}}function ln(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function cn(e,{pages:t,pageParams:n}){var r;return t.length>0?null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,n[0],n):void 0}var dn=(de=class{constructor(e={}){f(this,ne),f(this,re),f(this,ae),f(this,se),f(this,ie),f(this,oe),f(this,le),f(this,ce),x(this,ne,e.queryCache||new nn),x(this,re,e.mutationCache||new an),x(this,ae,e.defaultOptions||{}),x(this,se,new Map),x(this,ie,new Map),x(this,oe,0)}mount(){b(this,oe)._++,1===p(this,oe)&&(x(this,le,$t.subscribe(e=>y(this,null,function*(){e&&(yield this.resumePausedMutations(),p(this,ne).onFocus())}))),x(this,ce,Kt.subscribe(e=>y(this,null,function*(){e&&(yield this.resumePausedMutations(),p(this,ne).onOnline())}))))}unmount(){var e,t;b(this,oe)._--,0===p(this,oe)&&(null==(e=p(this,le))||e.call(this),x(this,le,void 0),null==(t=p(this,ce))||t.call(this),x(this,ce,void 0))}isFetching(e){return p(this,ne).findAll(u(d({},e),{fetchStatus:"fetching"})).length}isMutating(e){return p(this,re).findAll(u(d({},e),{status:"pending"})).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=p(this,ne).get(n.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=p(this,ne).build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Mt(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return p(this,ne).findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=p(this,ne).get(r.queryHash),s=function(e,t){return"function"==typeof e?e(t):e}(t,null==a?void 0:a.state.data);if(void 0!==s)return p(this,ne).build(this,r).setData(s,u(d({},n),{manual:!0}))}setQueriesData(e,t,n){return Zt.batch(()=>p(this,ne).findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=p(this,ne).get(n.queryHash))?void 0:t.state}removeQueries(e){const t=p(this,ne);Zt.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=p(this,ne);return Zt.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(d({type:"active"},e),t)))}cancelQueries(e,t={}){const n=d({revert:!0},t),r=Zt.batch(()=>p(this,ne).findAll(e).map(e=>e.cancel(n)));return Promise.all(r).then(Rt).catch(Rt)}invalidateQueries(e,t={}){return Zt.batch(()=>{var n,r;return p(this,ne).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null==e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries(u(d({},e),{type:null!=(r=null!=(n=null==e?void 0:e.refetchType)?n:null==e?void 0:e.type)?r:"active"}),t)})}refetchQueries(e,t={}){var n;const r=u(d({},t),{cancelRefetch:null==(n=t.cancelRefetch)||n}),a=Zt.batch(()=>p(this,ne).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(Rt)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(a).then(Rt)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=p(this,ne).build(this,t);return n.isStaleByTime(Mt(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rt).catch(Rt)}fetchInfiniteQuery(e){return e.behavior=on(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rt).catch(Rt)}ensureInfiniteQueryData(e){return e.behavior=on(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Kt.isOnline()?p(this,re).resumePausedMutations():Promise.resolve()}getQueryCache(){return p(this,ne)}getMutationCache(){return p(this,re)}getDefaultOptions(){return p(this,ae)}setDefaultOptions(e){x(this,ae,e)}setQueryDefaults(e,t){p(this,se).set(Pt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...p(this,se).values()],n={};return t.forEach(t=>{Tt(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){p(this,ie).set(Pt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...p(this,ie).values()],n={};return t.forEach(t=>{Tt(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t=u(d(d(d({},p(this,ae).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return t.queryHash||(t.queryHash=Lt(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===qt&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:u(d(d(d({},p(this,ae).mutations),(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){p(this,ne).clear(),p(this,re).clear()}},ne=new WeakMap,re=new WeakMap,ae=new WeakMap,se=new WeakMap,ie=new WeakMap,oe=new WeakMap,le=new WeakMap,ce=new WeakMap,de),un=M.createContext(void 0),hn=({client:e,children:t})=>(M.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),w.jsx(un.Provider,{value:e,children:t}));const mn={theme:"light",language:"he",rtl:!0,loading:!1,error:null,user_preferences:{currency:"ILS",date_format:"DD/MM/YYYY",notifications:!0}},vn=(e,t)=>{switch(t.type){case"SET_THEME":return u(d({},e),{theme:t.payload});case"SET_LANGUAGE":return u(d({},e),{language:t.payload,rtl:"he"===t.payload});case"SET_LOADING":return u(d({},e),{loading:t.payload});case"SET_ERROR":return u(d({},e),{error:t.payload});case"CLEAR_ERROR":return u(d({},e),{error:null});case"UPDATE_PREFERENCES":return u(d({},e),{user_preferences:d(d({},e.user_preferences),t.payload)});default:return e}},pn=M.createContext(void 0),fn=({children:e})=>{const[t,n]=M.useReducer(vn,mn),r={set_theme:e=>{n({type:"SET_THEME",payload:e})},set_language:e=>{n({type:"SET_LANGUAGE",payload:e})},set_loading:e=>{n({type:"SET_LOADING",payload:e})},set_error:e=>{n({type:"SET_ERROR",payload:e})},clear_error:()=>{n({type:"CLEAR_ERROR"})},update_preferences:e=>{n({type:"UPDATE_PREFERENCES",payload:e})}},a={state:t,dispatch:n,actions:r};return w.jsx(pn.Provider,{value:a,children:e})},xn=(...e)=>e.filter((e,t,n)=>Boolean(e)&&n.indexOf(e)===t).join(" ");
/**
     * @license lucide-react v0.447.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */
var gn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
     * @license lucide-react v0.447.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */const bn=M.forwardRef((e,t)=>{var n=e,{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c}=n,m=h(n,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return M.createElement("svg",d(u(d({ref:t},gn),{width:a,height:a,stroke:r,strokeWidth:i?24*Number(s)/Number(a):s,className:xn("lucide",o)}),m),[...c.map(([e,t])=>M.createElement(e,t)),...Array.isArray(l)?l:[l]])}),yn=(e,t)=>{const n=M.forwardRef((n,r)=>{var a,s=n,{className:i}=s,o=h(s,["className"]);return M.createElement(bn,d({ref:r,iconNode:t,className:xn(`lucide-${a=e,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i)},o))});return n.displayName=`${e}`,n},wn=yn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),jn=yn("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Nn=yn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_n=yn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Cn=yn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);
/**
     * @license lucide-react v0.447.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */class kn extends M.Component{constructor(e){super(e),m(this,"handle_reset",()=>{this.setState({has_error:!1,error:null,error_info:null})}),m(this,"handle_reload",()=>{window.location.reload()}),m(this,"handle_home",()=>{window.location.href="/"}),this.state={has_error:!1,error:null,error_info:null}}static getDerivedStateFromError(e){return{has_error:!0,error:e,error_info:null}}componentDidCatch(e,t){this.setState({error:e,error_info:t}),this.props.onError&&this.props.onError(e,t)}render(){return this.state.has_error?this.props.fallback?this.props.fallback:w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 rtl",children:w.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center hebrew-text",children:[w.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx(Cn,{className:"w-8 h-8 text-red-600"})}),w.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"אופס! משהו השתבש"}),w.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"אירעה שגיאה לא צפויה. אנחנו מתנצלים על אי הנוחות ועובדים על פתרון הבעיה."}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("button",{onClick:this.handle_reset,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[w.jsx(_n,{className:"w-4 h-4"}),"נסה שוב"]}),w.jsx("button",{onClick:this.handle_reload,className:"w-full bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"רענן את הדף"}),w.jsxs("button",{onClick:this.handle_home,className:"w-full border border-gray-300 hover:bg-gray-50 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[w.jsx(jn,{className:"w-4 h-4"}),"חזור לעמוד הבית"]})]}),!1]})}):this.props.children}}const Sn=()=>{const e=Ze(),t=[{name:"בית",href:"/",icon:jn},{name:"החופשות שלי",href:"/dashboard",icon:wn},{name:"צור חופשה חדשה",href:"/planner",icon:Nn}];return w.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex justify-between items-center h-16",children:[w.jsx("div",{className:"flex items-center",children:w.jsx(jt,{to:"/",className:"flex items-center",children:w.jsx("h1",{className:"text-2xl font-bold text-blue-600 hebrew-text",children:"תכנון חופשות"})})}),w.jsx("nav",{className:"hidden md:flex space-x-reverse space-x-8",children:t.map(t=>{const n=t.icon;return w.jsxs(jt,{to:t.href,className:"flex items-center px-3 py-2 text-sm font-medium hebrew-text transition-colors "+(r=t.href,e.pathname===r?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600"),children:[w.jsx(n,{className:"w-4 h-4 ml-2"}),t.name]},t.href);var r})}),w.jsx("div",{className:"md:hidden",children:w.jsx("button",{type:"button",className:"text-gray-600 hover:text-blue-600 p-2","aria-label":"פתח תפריט",children:w.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})})})},En=()=>{const e=(new Date).getFullYear();return w.jsx("footer",{className:"bg-white border-t border-gray-200 mt-12",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-900 hebrew-text",children:"תכנון חופשות"}),w.jsx("p",{className:"text-gray-600 text-sm hebrew-text leading-relaxed",children:"המערכת המתקדמת ביותר לתכנון חופשות משפחתיות בישראל"})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h4",{className:"text-sm font-semibold text-gray-900 hebrew-text",children:"קישורים מהירים"}),w.jsx("ul",{className:"space-y-2",children:[{name:"אודות",href:"/about"},{name:"צור קשר",href:"/contact"},{name:"תנאי שימוש",href:"/terms"},{name:"מדיניות פרטיות",href:"/privacy"}].map(e=>w.jsx("li",{children:w.jsx(jt,{to:e.href,className:"text-gray-600 hover:text-blue-600 text-sm hebrew-text transition-colors",children:e.name})},e.href))})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h4",{className:"text-sm font-semibold text-gray-900 hebrew-text",children:"צור קשר"}),w.jsxs("div",{className:"text-gray-600 text-sm hebrew-text space-y-1",children:[w.jsx("p",{children:"אימייל: support@vacationplan.co.il"}),w.jsx("p",{children:"טלפון: 03-1234567"})]})]})]}),w.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:w.jsx("div",{className:"text-center text-gray-600 text-sm hebrew-text",children:w.jsxs("p",{children:["© ",e," תכנון חופשות. כל הזכויות שמורות."]})})})]})})},Rn=({children:e})=>w.jsxs("div",{className:"min-h-screen bg-gray-50 rtl flex flex-col",children:[w.jsx(Sn,{}),w.jsx("main",{className:"flex-1",children:e}),w.jsx(En,{})]}),Mn=()=>{const[e,t]=M.useState(!1),[n,r]=M.useState(!1),[a,s]=M.useState(!1),i=()=>{r(!0),setTimeout(()=>{r(!1),t(!0)},800)};return O.useEffect(()=>{const e=setTimeout(()=>s(!0),1e3);return()=>clearTimeout(e)},[]),w.jsxs("div",{className:"min-h-screen",children:[w.jsxs("div",{className:"relative bg-gradient-to-br from-vacation-ocean via-primary-500 to-vacation-palm min-h-screen flex items-center overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-black/20"}),w.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:'url(\'data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.05"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\')'}}),w.jsxs(j,{size:"lg",className:"relative z-10 text-center text-white",children:[w.jsxs("div",{className:"mb-8",children:[w.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full text-sm font-medium mb-6",children:[w.jsx("span",{className:"w-2 h-2 bg-vacation-sunrise rounded-full animate-pulse"}),w.jsx("span",{className:"hebrew-text",children:"מתכננים חופשה? אתם במקום הנכון!"})]}),w.jsxs("h1",{className:"text-4xl md:text-7xl font-bold mb-6 hebrew-text leading-tight",children:["הפכו כל חופשה",w.jsx("br",{}),w.jsx("span",{className:"text-vacation-sunrise",children:"לזיכרון בלתי נשכח"})]})]}),w.jsxs("div",{className:"mb-12",children:[w.jsx("p",{className:"text-xl md:text-2xl mb-6 hebrew-text leading-hebrew text-white/90 max-w-4xl mx-auto",children:"נמאס לכם לבזבז שעות על תכנון חופשה? להרגיש שפספסתם את הדברים הכי טובים?"}),w.jsxs("p",{className:"text-lg md:text-xl hebrew-text leading-hebrew text-white/80 max-w-3xl mx-auto",children:["המערכת החכמה שלנו תעזור לכם ליצור תוכניות חופשה מושלמות ב-10 דקות!",w.jsx("br",{}),w.jsx("strong",{className:"text-vacation-sunrise",children:"כולל המלצות אישיות, לוחות זמנים מדויקים ותמחור שקוף"})]})]}),w.jsxs("div",{className:"mb-12",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-8 mb-8",children:[w.jsxs("div",{className:"text-center transition-all duration-1000 "+(a?"opacity-100 transform-none":"opacity-0 transform translate-y-8"),children:[w.jsx("div",{className:"text-3xl font-bold text-vacation-sunrise mb-1",children:"12,847"}),w.jsx("div",{className:"text-sm text-white/80 hebrew-text",children:"משפחות מרוצות"})]}),w.jsxs("div",{className:"text-center transition-all duration-1000 delay-200 "+(a?"opacity-100 transform-none":"opacity-0 transform translate-y-8"),children:[w.jsx("div",{className:"text-3xl font-bold text-vacation-sunrise mb-1",children:"4.9"}),w.jsx("div",{className:"text-sm text-white/80 hebrew-text",children:"דירוג ממוצע"})]}),w.jsxs("div",{className:"text-center transition-all duration-1000 delay-400 "+(a?"opacity-100 transform-none":"opacity-0 transform translate-y-8"),children:[w.jsx("div",{className:"text-3xl font-bold text-vacation-sunrise mb-1",children:"2,431"}),w.jsx("div",{className:"text-sm text-white/80 hebrew-text",children:"חופשות החודש"})]})]}),w.jsx("div",{className:"flex items-center justify-center gap-1 mb-4",children:[...Array(5)].map((e,t)=>w.jsx("svg",{className:"w-5 h-5 text-vacation-sunrise fill-current",viewBox:"0 0 20 20",children:w.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),w.jsx("p",{className:"text-white/80 hebrew-text text-sm",children:'"הילדים שלנו עדיין מדברים על החופשה הזאת!" - רחל, תל אביב'})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[w.jsx(N,{onClick:i,disabled:n,className:"bg-vacation-sunrise hover:bg-vacation-sunset disabled:bg-vacation-sunrise/70 text-white px-10 py-4 text-xl font-bold rounded-xl shadow-2xl transform hover:scale-105 transition-all duration-300 hebrew-text min-w-[280px] relative",children:n?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white inline-block ml-3"}),w.jsx("span",{children:"יוצר עבורכם תוכנית..."})]}):w.jsx(w.Fragment,{children:"🌴 תכננו את החופשה שלכם - חינם!"})}),w.jsx(N,{variant:"outline",className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 px-8 py-4 text-lg font-medium rounded-xl transition-colors hebrew-text",children:"צפו בדוגמאות"})]}),w.jsxs("div",{className:"mt-12 text-white/70 text-sm hebrew-text",children:[w.jsxs("div",{className:"flex items-center justify-center gap-4 mb-2",children:[w.jsx("span",{children:"✓ אין צורך באשראי"}),w.jsx("span",{children:"✓ התחלה מיידית"}),w.jsx("span",{children:"✓ ללא התחייבות"})]}),w.jsx("p",{children:"מוגן על ידי הצפנת SSL ברמה בנקאית"})]})]})]}),w.jsxs(j,{size:"lg",className:"py-20",children:[w.jsxs("div",{className:"text-center mb-16",children:[w.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-6 hebrew-text",children:["למה בוחרים ",w.jsx("span",{className:"text-vacation-ocean",children:"בנו"}),"?"]}),w.jsx("p",{className:"text-xl text-gray-600 hebrew-text leading-hebrew max-w-3xl mx-auto",children:"אנחנו לא רק עוד אתר תכנון - אנחנו השותפים שלכם ליצירת חופשות בלתי נשכחות"})]}),w.jsxs(_,{cols:3,gap:"lg",className:"mb-16",children:[w.jsxs(C,{className:"text-center p-8 bg-white rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[w.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-vacation-ocean to-primary-600 rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),w.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 hebrew-text",children:"תכנון חכם ב-10 דקות"}),w.jsx("p",{className:"text-gray-600 hebrew-text leading-hebrew text-lg",children:"האלגוריתם שלנו יוצר עבורכם תוכנית מושלמת על בסיס העדפותיכם, התקציב וגילאי הילדים"})]}),w.jsxs(C,{className:"text-center p-8 bg-white rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[w.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-vacation-palm to-vacation-sunrise rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsxs("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),w.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 hebrew-text",children:"יעדים מותאמים לישראלים"}),w.jsx("p",{className:"text-gray-600 hebrew-text leading-hebrew text-lg",children:"מאגר של +2,500 יעדים עם מידע על כשרות, שבת, מחירים בשקל ודיווחי ביטחון עדכניים"})]}),w.jsxs(C,{className:"text-center p-8 bg-white rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[w.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-vacation-sunrise to-vacation-sand rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),w.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 hebrew-text",children:"תמיכה 24/7 בעברית"}),w.jsx("p",{className:"text-gray-600 hebrew-text leading-hebrew text-lg",children:"הצוות שלנו זמין לכם בכל שעה - לפני, במהלך ואחרי הנסיעה. כולל חוט חם לחירום"})]})]})]}),w.jsx("div",{className:"bg-gray-50 py-20",children:w.jsxs(j,{size:"lg",children:[w.jsxs("div",{className:"text-center mb-16",children:[w.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-6 hebrew-text",children:["מה אומרות ",w.jsx("span",{className:"text-vacation-ocean",children:"המשפחות"}),"?"]}),w.jsx("p",{className:"text-xl text-gray-600 hebrew-text leading-hebrew",children:"אלפי משפחות כבר נהנו מחופשות מושלמות איתנו"})]}),w.jsxs(_,{cols:3,gap:"lg",className:"mb-12",children:[w.jsxs(C,{className:"bg-white p-8 rounded-2xl shadow-lg",children:[w.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((e,t)=>w.jsx("svg",{className:"w-5 h-5 text-vacation-sunrise fill-current",viewBox:"0 0 20 20",children:w.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),w.jsx("p",{className:"text-gray-700 hebrew-text leading-hebrew mb-6 text-lg",children:'"הילדים שלנו עדיין מדברים על החופשה הזאת! הכל היה מתוכנן בצורה מושלמת - מהמלון ועד לפעילויות. לא היה לנו אף רגע משעמם."'}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-12 h-12 bg-vacation-ocean rounded-full flex items-center justify-center text-white font-bold",children:"ר"}),w.jsxs("div",{children:[w.jsx("div",{className:"font-bold text-gray-900 hebrew-text",children:"רחל כהן"}),w.jsx("div",{className:"text-gray-500 text-sm hebrew-text",children:"משפחה עם 3 ילדים, תל אביב"})]})]})]}),w.jsxs(C,{className:"bg-white p-8 rounded-2xl shadow-lg",children:[w.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((e,t)=>w.jsx("svg",{className:"w-5 h-5 text-vacation-sunrise fill-current",viewBox:"0 0 20 20",children:w.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),w.jsx("p",{className:"text-gray-700 hebrew-text leading-hebrew mb-6 text-lg",children:'"חסך לנו שעות של תכנון! בעבר היינו מבלים ימים שלמים בחיפוש אחר מסעדות ואטרקציות. עכשיו הכל מוכן ומותאם בדיוק לנו."'}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-12 h-12 bg-vacation-palm rounded-full flex items-center justify-center text-white font-bold",children:"ד"}),w.jsxs("div",{children:[w.jsx("div",{className:"font-bold text-gray-900 hebrew-text",children:"דני וגלית לוי"}),w.jsx("div",{className:"text-gray-500 text-sm hebrew-text",children:"זוג עם תינוק, חיפה"})]})]})]}),w.jsxs(C,{className:"bg-white p-8 rounded-2xl shadow-lg",children:[w.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((e,t)=>w.jsx("svg",{className:"w-5 h-5 text-vacation-sunrise fill-current",viewBox:"0 0 20 20",children:w.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),w.jsx("p",{className:"text-gray-700 hebrew-text leading-hebrew mb-6 text-lg",children:'"השירות הכי מקצועי שקיבלנו! גם כשהיו לנו בעיות באחד המלונות, הצוות פתר הכל תוך 10 דקות. מרגישים שיש לנו גב."'}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-12 h-12 bg-vacation-sunrise rounded-full flex items-center justify-center text-white font-bold",children:"מ"}),w.jsxs("div",{children:[w.jsx("div",{className:"font-bold text-gray-900 hebrew-text",children:"משה ושרה אברהם"}),w.jsx("div",{className:"text-gray-500 text-sm hebrew-text",children:"משפחה מורחבת, ירושלים"})]})]})]})]}),w.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6 hebrew-text text-center",children:"פעילות אחרונה באתר"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[w.jsxs("div",{className:"text-center p-4 bg-vacation-ocean/10 rounded-xl",children:[w.jsx("div",{className:"text-2xl font-bold text-vacation-ocean mb-1",children:"15"}),w.jsx("div",{className:"text-sm text-gray-600 hebrew-text",children:"משפחות הזמינו היום"})]}),w.jsxs("div",{className:"text-center p-4 bg-vacation-palm/10 rounded-xl",children:[w.jsx("div",{className:"text-2xl font-bold text-vacation-palm mb-1",children:"127"}),w.jsx("div",{className:"text-sm text-gray-600 hebrew-text",children:"תוכניות נוצרו השבוע"})]}),w.jsxs("div",{className:"text-center p-4 bg-vacation-sunrise/10 rounded-xl",children:[w.jsx("div",{className:"text-2xl font-bold text-vacation-sunrise mb-1",children:"1,230"}),w.jsx("div",{className:"text-sm text-gray-600 hebrew-text",children:"ביקורים החודש"})]}),w.jsxs("div",{className:"text-center p-4 bg-vacation-sand/10 rounded-xl",children:[w.jsx("div",{className:"text-2xl font-bold text-vacation-sand mb-1",children:"98%"}),w.jsx("div",{className:"text-sm text-gray-600 hebrew-text",children:"שביעות רצון"})]})]})]})]})}),w.jsx("div",{className:"bg-gradient-to-r from-vacation-ocean via-primary-600 to-vacation-palm py-20",children:w.jsxs(j,{size:"lg",className:"text-center text-white",children:[w.jsxs("h2",{className:"text-3xl md:text-5xl font-bold mb-6 hebrew-text",children:["מוכנים ליצור זיכרונות ",w.jsx("span",{className:"text-vacation-sunrise",children:"בלתי נשכחים"}),"?"]}),w.jsx("p",{className:"text-xl mb-8 opacity-90 hebrew-text leading-hebrew max-w-3xl mx-auto",children:"אל תיתנו לעוד חופשה לעבור ללא תכנון מושלם. הצטרפו לאלפי המשפחות הישראליות שכבר חוו את ההבדל"}),w.jsx("div",{className:"mb-8",children:w.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-6 py-3 rounded-full mb-6",children:[w.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),w.jsx("span",{className:"hebrew-text font-medium",children:"מחיר מיוחד - רק ל-48 השעות הקרובות!"})]})}),w.jsxs("div",{className:"flex flex-col items-center gap-6",children:[w.jsx(N,{onClick:i,disabled:n,className:"bg-vacation-sunrise hover:bg-vacation-sunset disabled:bg-vacation-sunrise/70 text-white px-12 py-5 text-2xl font-bold rounded-2xl shadow-2xl transform hover:scale-105 transition-all duration-300 hebrew-text min-w-[350px]",children:n?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"animate-spin rounded-full h-7 w-7 border-b-2 border-white inline-block ml-3"}),w.jsx("span",{children:"בונה עבורכם את התוכנית המושלמת..."})]}):w.jsx(w.Fragment,{children:"🎯 בואו נתחיל - זה חינם!"})}),w.jsx("div",{className:"text-white/80 text-sm hebrew-text",children:"✓ ללא התחייבות  ✓ אין צורך בפרטי אשראי  ✓ התחלה מיידית"})]}),w.jsx("div",{className:"mt-12 text-white/60 text-sm hebrew-text",children:"מוגן ברמה בנקאית | תמיכה 24/7 בעברית | מובטח 100% או החזר כספי"})]})}),e&&w.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 hebrew-text",children:"בואו נכיר! 👋"}),w.jsx("p",{className:"text-gray-600 hebrew-text leading-hebrew",children:"כמה שאלות קצרות כדי ליצור עבורכם את התוכנית המושלמת"})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 hebrew-text text-right",children:"איך קוראים לכם?"}),w.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg text-right hebrew-text",placeholder:"השם שלכם"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 hebrew-text text-right",children:"איך נוכל ליצור איתכם קשר?"}),w.jsx("input",{type:"email",className:"w-full p-3 border border-gray-300 rounded-lg text-right hebrew-text",placeholder:"האימייל שלכם"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 hebrew-text text-right",children:"באיזה יעד אתם חושבים?"}),w.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg text-right hebrew-text",children:[w.jsx("option",{children:"עדיין לא החלטנו"}),w.jsx("option",{children:"אירופה"}),w.jsx("option",{children:"אסיה"}),w.jsx("option",{children:"אמריקה"}),w.jsx("option",{children:"אפריקה"}),w.jsx("option",{children:"אוסטרליה"}),w.jsx("option",{children:"ישראל"})]})]})]}),w.jsxs("div",{className:"flex gap-3 mt-8",children:[w.jsx(N,{className:"flex-1 bg-vacation-sunrise hover:bg-vacation-sunset text-white py-3 rounded-lg hebrew-text font-medium",onClick:()=>t(!1),children:"המשיכו לתכנון"}),w.jsx(N,{variant:"outline",className:"px-6 py-3 rounded-lg hebrew-text",onClick:()=>t(!1),children:"בפעם אחרת"})]})]})})]})},Dn=e=>{let t;const n=new Set,r=(e,r)=>{const a="function"==typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,s={setState:r,getState:a,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e))},i=t=e(r,a,s);return s},On=e=>e,Ln=e=>{const t=(e=>e?Dn(e):Dn)(e),n=e=>function(e,t=On){const n=O.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return O.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},Pn={BASE_URL:"/vacationplan/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Tn=new Map,An=e=>{const t=Tn.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},In=e=>{var t,n;if(!e)return;const r=e.split("\n"),a=r.findIndex(e=>e.includes("api.setState"));if(a<0)return;const s=(null==(t=r[a+1])?void 0:t.trim())||"";return null==(n=/.+ (.+) .+/.exec(s))?void 0:n[1]},Fn=(e,t={})=>(n,r,a)=>{const s=t,{enabled:i,anonymousActionType:o,store:l}=s,c=h(s,["enabled","anonymousActionType","store"]);let m;try{m=(null!=i?i:"production"!==(Pn?"production":void 0))&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(gi){}if(!m)return e(n,r,a);const v=((e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};const r=Tn.get(n.name);if(r)return d({type:"tracked",store:e},r);const a={connection:t.connect(n),stores:{}};return Tn.set(n.name,a),d({type:"tracked",store:e},a)})(l,m,c),{connection:p}=v,f=h(v,["connection"]);let x=!0;a.setState=(e,t,s)=>{const i=n(e,t);if(!x)return i;const h=void 0===s?{type:o||In((new Error).stack)||"anonymous"}:"string"==typeof s?{type:s}:s;return void 0===l?(null==p||p.send(h,r()),i):(null==p||p.send(u(d({},h),{type:`${l}/${h.type}`}),u(d({},An(c.name)),{[l]:a.getState()})),i)},a.devtools={cleanup:()=>{p&&"function"==typeof p.unsubscribe&&p.unsubscribe(),((e,t)=>{if(void 0===t)return;const n=Tn.get(e);n&&(delete n.stores[t],0===Object.keys(n.stores).length&&Tn.delete(e))})(c.name,l)}};const g=(...e)=>{const t=x;x=!1,n(...e),x=t},b=e(a.setState,r,a);if("untracked"===f.type?null==p||p.init(b):(f.stores[f.store]=a,null==p||p.init(Object.fromEntries(Object.entries(f.stores).map(([e,t])=>[e,e===f.store?b:t.getState()])))),a.dispatchFromDevtools&&"function"==typeof a.dispatch){let e=!1;const t=a.dispatch;a.dispatch=(...n)=>{"production"===(Pn?"production":void 0)||"__setState"!==n[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...n)}}return p.subscribe(e=>{var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):Bn(e.payload,e=>{if("__setState"===e.type){if(void 0===l)return void g(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[l];if(null==t)return;return void(JSON.stringify(a.getState())!==JSON.stringify(t)&&g(t))}a.dispatchFromDevtools&&"function"==typeof a.dispatch&&a.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":return g(b),void 0===l?null==p?void 0:p.init(a.getState()):null==p?void 0:p.init(An(c.name));case"COMMIT":return void 0===l?void(null==p||p.init(a.getState())):null==p?void 0:p.init(An(c.name));case"ROLLBACK":return Bn(e.state,e=>{if(void 0===l)return g(e),void(null==p||p.init(a.getState()));g(e[l]),null==p||p.init(An(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Bn(e.state,e=>{void 0!==l?JSON.stringify(a.getState())!==JSON.stringify(e[l])&&g(e[l]):g(e)});case"IMPORT_STATE":{const{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return g(void 0===l?r:r[l]),void(null==p||p.send(null,n))}case"PAUSE_RECORDING":return x=!x}return}}),b},Bn=(e,t)=>{let n;try{n=JSON.parse(e)}catch(gi){console.error("[zustand devtools middleware] Could not parse the received json",gi)}void 0!==n&&t(n)};function zn(e,t){let n;try{n=e()}catch(gi){return}return{getItem:e=>{var t;const r=e=>null===e?null:JSON.parse(e,void 0),a=null!=(t=n.getItem(e))?t:null;return a instanceof Promise?a.then(r):r(a)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}const Wn=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>Wn(e)(n),catch(e){return this}}}catch(gi){return{then(e){return this},catch:t=>Wn(t)(gi)}}},Un=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),qn=Ln(Fn((hr=(e,t)=>({vacations:[],activities:[],current_vacation:null,loading:!1,error:null,add_vacation:t=>{const n=u(d({},t),{id:Un(),created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()});e(e=>({vacations:[...e.vacations,n]}))},update_vacation:(t,n)=>{e(e=>{var r;return{vacations:e.vacations.map(e=>e.id===t?u(d(d({},e),n),{updated_at:(new Date).toISOString()}):e),current_vacation:(null==(r=e.current_vacation)?void 0:r.id)===t?u(d(d({},e.current_vacation),n),{updated_at:(new Date).toISOString()}):e.current_vacation}})},delete_vacation:t=>{e(e=>{var n;return{vacations:e.vacations.filter(e=>e.id!==t),activities:e.activities.filter(e=>e.vacation_id!==t),current_vacation:(null==(n=e.current_vacation)?void 0:n.id)===t?null:e.current_vacation}})},set_current_vacation:t=>{e({current_vacation:t})},add_activity:t=>{const n=u(d({},t),{id:Un()});e(e=>({activities:[...e.activities,n]}))},update_activity:(t,n)=>{e(e=>({activities:e.activities.map(e=>e.id===t?d(d({},e),n):e)}))},delete_activity:t=>{e(e=>({activities:e.activities.filter(e=>e.id!==t)}))},get_vacation_activities:e=>t().activities.filter(t=>t.vacation_id===e),set_loading:t=>e({loading:t}),set_error:t=>e({error:t}),clear_error:()=>e({error:null})}),mr={name:"vacation-storage",partialize:e=>({vacations:e.vacations,activities:e.activities})},(e,t,n)=>{let r=d({storage:zn(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>d(d({},t),e)},mr),a=!1;const s=new Set,i=new Set;let o=r.storage;if(!o)return hr((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),e(...t)},t,n);const l=()=>{const e=r.partialize(d({},t()));return o.setItem(r.name,{state:e,version:r.version})},c=n.setState;n.setState=(e,t)=>{c(e,t),l()};const u=hr((...t)=>{e(...t),l()},t,n);let h;n.getInitialState=()=>u;const m=()=>{var n,c;if(!o)return;a=!1,s.forEach(e=>{var n;return e(null!=(n=t())?n:u)});const d=(null==(c=r.onRehydrateStorage)?void 0:c.call(r,null!=(n=t())?n:u))||void 0;return Wn(o.getItem.bind(o))(r.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===r.version)return[!1,e.state];if(r.migrate){const t=r.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(n=>{var a;const[s,i]=n;if(h=r.merge(i,null!=(a=t())?a:u),e(h,!0),s)return l()}).then(()=>{null==d||d(h,void 0),h=t(),a=!0,i.forEach(e=>e(h))}).catch(e=>{null==d||d(void 0,e)})};return n.persist={setOptions:e=>{r=d(d({},r),e),e.storage&&(o=e.storage)},clearStorage:()=>{null==o||o.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:e=>(s.add(e),()=>{s.delete(e)}),onFinishHydration:e=>(i.add(e),()=>{i.delete(e)})},r.skipHydration||m(),h||u}),{name:"vacation-store"})),Hn=e=>({activities:qn(e=>e.activities),add_activity:qn(e=>e.add_activity),update_activity:qn(e=>e.update_activity),delete_activity:qn(e=>e.delete_activity)}),$n={common:{save:"שמור",cancel:"בטל",delete:"מחק",edit:"ערוך",add:"הוסף",search:"חפש",loading:"טוען...",error:"שגיאה",success:"הצלחה",yes:"כן",no:"לא",close:"סגור",back:"חזור",next:"הבא",previous:"הקודם",required:"שדה חובה",optional:"אופציונלי"},nav:{home:"בית",dashboard:"לוח בקרה",planner:"מתכנן חופשות",profile:"פרופיל",settings:"הגדרות",help:"עזרה",logout:"התנתק"},home:{hero_title:"תכננו את החופשה המושלמת שלכם",hero_subtitle:"מערכת תכנון חופשות מתקדמת המיועדת למשפחות ישראליות. צרו תוכנית יום יומית מפורטת, גלו יעדים מרתקים והפכו כל רגע לזיכרון בלתי נשכח.",start_planning:"התחילו לתכנן עכשיו",view_examples:"צפו בדוגמאות",feature_1_title:"תכנון יום יומי מפורט",feature_1_desc:"צרו לוח זמנים מדויק לכל יום בחופשה עם פעילויות, מסעדות ואטרקציות מותאמות למשפחה",feature_2_title:"יעדים ישראליים מותאמים",feature_2_desc:"מאגר יעדים עשיר עם התחשבות בכשרות, שבת וחגים, ומותאם לצרכים של משפחות ישראליות",feature_3_title:"ממשק בעברית וידידותי לנייד",feature_3_desc:"ממשק מלא בעברית מותאם לטלפונים חכמים, עם תמיכה מלאה ב-RTL ועיצוב אינטואיטיבי",cta_title:"מוכנים להתחיל את החופשה הבאה?",cta_subtitle:"הצטרפו לאלפי משפחות ישראליות שכבר יוצרות זיכרונות בלתי נשכחים",cta_button:"צרו את התוכנית הראשונה שלכם"},vacation:{title:"החופשות שלי",new_vacation:"חופשה חדשה",vacation_name:"שם החופשה",destination:"יעד",start_date:"תאריך התחלה",end_date:"תאריך סיום",participants:"מספר משתתפים",budget:"תקציב",status:"סטטוס",planning:"בתכנון",ready:"מוכן",completed:"הושלם",draft:"טיוטה"},validation:{required_field:"שדה זה הוא חובה",invalid_email:"כתובת אימייל לא תקינה",invalid_number:"יש להזין מספר תקין",min_length:"מינימום {count} תווים",max_length:"מקסימום {count} תווים",password_weak:"סיסמה חלשה",passwords_no_match:"הסיסמאות אינן תואמות"},date:{today:"היום",tomorrow:"מחר",yesterday:"אתמול",days_ago:"לפני {count} ימים",in_days:"בעוד {count} ימים",monday:"יום שני",tuesday:"יום שלישי",wednesday:"יום רביעי",thursday:"יום חמישי",friday:"יום שישי",saturday:"שבת",sunday:"יום ראשון"},errors:{general:"אירעה שגיאה כללית",network:"שגיאת רשת",not_found:"הדף לא נמצא",unauthorized:"אין הרשאה",server_error:"שגיאת שרת",validation_failed:"אימות נכשל",try_again:"נסו שוב"}},Kn=()=>{const e=$n;return{t:(t,n)=>{const r=t.split(".");let a=e;for(const e of r){if(!a||"object"!=typeof a||!(e in a))return t;a=a[e]}return"string"!=typeof a?t:n?a.replace(/\{(\w+)\}/g,(e,t)=>{var r;return(null==(r=n[t])?void 0:r.toString())||e}):a},has_translation:t=>{const n=t.split(".");let r=e;for(const e of n){if(!r||"object"!=typeof r||!(e in r))return!1;r=r[e]}return"string"==typeof r},get_namespace:t=>e[t]||{},translations:e}},Qn=(e,t="ILS")=>new Intl.NumberFormat("he-IL",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:2}).format(e),Vn=["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],Yn=["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],Gn=["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],Jn=e=>Vn[e.getMonth()],Xn=e=>{const t="string"==typeof e?new Date(e):e,n=(e=>Yn[e.getDay()])(t);return`יום ${n}, ${t.getDate()} ב${Jn(t)} ${t.getFullYear()}`},Zn=e=>{const t="string"==typeof e?new Date(e):e;return`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`},er=(e,t="medium")=>{const n="string"==typeof e?new Date(e):e;switch(t){case"full":return Xn(n);case"short":return Zn(n);default:const e=(e=>Gn[e.getDay()])(n);return`${e} ${n.getDate()} ${Jn(n)}`}},tr=({vacation:e})=>{const{set_current_vacation:t,delete_vacation:n}=qn(),r=Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/864e5)+1;return w.jsxs(k,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-200 group",children:[w.jsxs("div",{className:"h-32 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 relative",children:[w.jsx("div",{className:"absolute inset-0 bg-black/20"}),w.jsx("div",{className:"absolute top-4 right-4",children:w.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(e=>{switch(e){case"draft":default:return"bg-gray-100 text-gray-700";case"planning":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-green-100 text-green-800";case"completed":return"bg-purple-100 text-purple-800"}})(e.status)}`,children:(e=>{switch(e){case"draft":return"טיוטה";case"planning":return"בתכנון";case"confirmed":return"מאושר";case"completed":return"הושלם";default:return e}})(e.status)})}),w.jsxs("div",{className:"absolute bottom-4 right-4 left-4",children:[w.jsx("h3",{className:"text-white font-bold text-lg mb-1 truncate",children:e.title}),w.jsxs("p",{className:"text-white/90 text-sm flex items-center",children:[w.jsx("svg",{className:"w-4 h-4 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:w.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.destination]})]})]}),w.jsxs("div",{className:"p-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-3",children:[w.jsxs("div",{className:"text-sm text-gray-600",children:[w.jsxs("div",{className:"flex items-center mb-1",children:[w.jsx("svg",{className:"w-4 h-4 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:w.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),Zn(e.start_date)]}),w.jsxs("div",{className:"text-gray-500",children:[r," ימים • ",e.participants," משתתפים"]})]}),e.budget&&w.jsxs("div",{className:"text-left",children:[w.jsx("div",{className:"text-lg font-bold text-gray-900",children:Qn(e.budget)}),w.jsx("div",{className:"text-xs text-gray-500",children:"תקציב"})]})]}),e.description&&w.jsx("p",{className:"text-gray-700 text-sm mb-4 line-clamp-2",children:e.description}),w.jsx("div",{className:"mb-4",children:w.jsx(S,{status:e.status,show_label:!1})}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(N,{variant:"outline",size:"sm",onClick:()=>{t(e),window.location.href="/planner"},className:"flex-1 text-sm",children:"ערוך"}),w.jsx(N,{variant:"outline",size:"sm",onClick:()=>{window.confirm("האם אתם בטוחים שברצונכם למחוק את החופשה?")&&n(e.id)},className:"text-red-600 hover:text-red-700 hover:border-red-300",children:"מחק"})]})]})]})},nr=({vacation:e})=>{const{set_current_vacation:t,delete_vacation:n}=qn(),r=Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/864e5)+1;return w.jsx(k,{className:"p-4 hover:shadow-md transition-shadow duration-200",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsxs("div",{className:"flex items-start justify-between mb-2",children:[w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate mb-1",children:e.title}),w.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[w.jsx("svg",{className:"w-4 h-4 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:w.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.destination]})]}),w.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${(e=>{switch(e){case"draft":default:return"bg-gray-100 text-gray-700";case"planning":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-green-100 text-green-800";case"completed":return"bg-purple-100 text-purple-800"}})(e.status)}`,children:(e=>{switch(e){case"draft":return"טיוטה";case"planning":return"בתכנון";case"confirmed":return"מאושר";case"completed":return"הושלם";default:return e}})(e.status)})]}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-3",children:[w.jsxs("div",{children:[w.jsx("div",{className:"font-medium",children:"תאריך התחלה"}),w.jsx("div",{children:Zn(e.start_date)})]}),w.jsxs("div",{children:[w.jsx("div",{className:"font-medium",children:"משך"}),w.jsxs("div",{children:[r," ימים"]})]}),w.jsxs("div",{children:[w.jsx("div",{className:"font-medium",children:"משתתפים"}),w.jsx("div",{children:e.participants})]}),e.budget&&w.jsxs("div",{children:[w.jsx("div",{className:"font-medium",children:"תקציב"}),w.jsx("div",{className:"font-semibold text-gray-900",children:Qn(e.budget)})]})]}),e.description&&w.jsx("p",{className:"text-gray-700 text-sm line-clamp-1 mb-3",children:e.description})]}),w.jsxs("div",{className:"flex gap-2 mr-4",children:[w.jsx(N,{variant:"outline",size:"sm",onClick:()=>{t(e),window.location.href="/planner"},children:"ערוך"}),w.jsx(N,{variant:"outline",size:"sm",onClick:()=>{window.confirm("האם אתם בטוחים שברצונכם למחוק את החופשה?")&&n(e.id)},className:"text-red-600 hover:text-red-700 hover:border-red-300",children:"מחק"})]})]})})},rr=({on_create_vacation:e})=>w.jsx("div",{className:"text-center py-16",children:w.jsxs("div",{className:"max-w-md mx-auto",children:[w.jsx("div",{className:"mb-6",children:w.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:w.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),w.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"הזמן להתחיל לחלום!"}),w.jsxs("p",{className:"text-gray-600 mb-6 leading-relaxed",children:["עדיין לא יצרתם את החופשה הראשונה שלכם?",w.jsx("br",{}),"בואו נתחיל לתכנן את הרגעים הבלתי נשכחים הבאים שלכם"]}),w.jsxs(N,{onClick:()=>{e&&e()},className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 text-lg font-medium shadow-lg hover:shadow-xl transition-all duration-200",children:[w.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"צרו את החופשה הראשונה"]}),w.jsxs("div",{className:"mt-12 space-y-4",children:[w.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[w.jsx("svg",{className:"w-5 h-5 text-green-500 ml-2",fill:"currentColor",viewBox:"0 0 20 20",children:w.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"תכנון מפורט יום אחר יום"]}),w.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[w.jsx("svg",{className:"w-5 h-5 text-green-500 ml-2",fill:"currentColor",viewBox:"0 0 20 20",children:w.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"יעדים מותאמים למשפחות ישראליות"]}),w.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[w.jsx("svg",{className:"w-5 h-5 text-green-500 ml-2",fill:"currentColor",viewBox:"0 0 20 20",children:w.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"ניהול תקציב וחישוב עלויות"]})]})]})}),ar=()=>w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>w.jsxs("div",{className:"bg-white rounded-lg shadow-sm border animate-pulse",children:[w.jsx("div",{className:"h-32 bg-gray-200 rounded-t-lg"}),w.jsxs("div",{className:"p-4",children:[w.jsxs("div",{className:"flex justify-between items-start mb-3",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("div",{className:"h-5 bg-gray-200 rounded w-3/4 mb-2"}),w.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),w.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"})]}),w.jsxs("div",{className:"space-y-2 mb-4",children:[w.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),w.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("div",{className:"h-8 bg-gray-200 rounded flex-1"}),w.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"})]})]})]},t))}),sr=({vacations:e,loading:t,error:n,view_mode:r,on_create_vacation:a})=>t?w.jsx(ar,{}):n?w.jsxs("div",{className:"text-center py-12",children:[w.jsx("div",{className:"text-red-500 text-lg font-medium mb-2",children:"אירעה שגיאה בטעינת החופשות"}),w.jsx("p",{className:"text-gray-600",children:n})]}):0===e.length?w.jsx(rr,{on_create_vacation:a}):"list"===r?w.jsx("div",{className:"space-y-4",children:e.map(e=>w.jsx(nr,{vacation:e},e.id))}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>w.jsx(tr,{vacation:e},e.id))}),ir=({on_close:t})=>{const{t:n}=Kn(),{add_vacation:r}=qn(),[a,s]=M.useState(!1),[i,o]=M.useState({title:"",destination:"",start_date:"",end_date:"",participants:2,budget:"",description:""}),[l,c]=M.useState({}),h=(e,t)=>{o(n=>u(d({},n),{[e]:t})),l[e]&&c(t=>u(d({},t),{[e]:""}))};return w.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:w.jsx(k,{className:"w-full max-w-lg max-h-[90vh] overflow-y-auto",children:w.jsxs("div",{className:"p-6",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n("vacation.new_vacation")}),w.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),w.jsxs("form",{onSubmit:n=>y(e,null,function*(){if(n.preventDefault(),(()=>{const e={};return i.title.trim()||(e.title="שם החופשה הוא שדה חובה"),i.destination.trim()||(e.destination="יעד החופשה הוא שדה חובה"),i.start_date||(e.start_date="תאריך התחלה הוא שדה חובה"),i.end_date||(e.end_date="תאריך סיום הוא שדה חובה"),i.start_date&&i.end_date&&new Date(i.start_date)>=new Date(i.end_date)&&(e.end_date="תאריך הסיום חייב להיות אחרי תאריך ההתחלה"),i.participants<1&&(e.participants="מספר המשתתפים חייב להיות לפחות 1"),c(e),0===Object.keys(e).length})()){s(!0);try{yield r({title:i.title.trim(),destination:i.destination.trim(),start_date:i.start_date,end_date:i.end_date,participants:i.participants,budget:i.budget?parseFloat(i.budget):void 0,description:i.description.trim()||void 0,status:"draft"}),t()}catch(e){console.error("Error creating vacation:",e)}finally{s(!1)}}}),className:"space-y-4",children:[w.jsxs("div",{children:[w.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("vacation.vacation_name")," *"]}),w.jsx(E,{value:i.title,onChange:e=>h("title",e.target.value),placeholder:"למשל: חופשת קיץ 2025",error:l.title})]}),w.jsxs("div",{children:[w.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("vacation.destination")," *"]}),w.jsx(E,{value:i.destination,onChange:e=>h("destination",e.target.value),placeholder:"בחרו יעד או הקלידו בעצמכם",error:l.destination}),w.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:["תל אביב","ירושלים","אילת","טבריה","נתניה","באר שבע","הרצליה","אשדוד","חיפה","ראשון לציון"].map(e=>w.jsx("button",{type:"button",onClick:()=>h("destination",e),className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-full hover:bg-blue-100 hover:text-blue-700 transition-colors",children:e},e))})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("vacation.start_date")," *"]}),w.jsx(E,{type:"date",value:i.start_date,onChange:e=>h("start_date",e.target.value),error:l.start_date})]}),w.jsxs("div",{children:[w.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("vacation.end_date")," *"]}),w.jsx(E,{type:"date",value:i.end_date,onChange:e=>h("end_date",e.target.value),error:l.end_date})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("vacation.participants")," *"]}),w.jsx(E,{type:"number",min:"1",value:i.participants,onChange:e=>h("participants",parseInt(e.target.value)||1),error:l.participants})]}),w.jsxs("div",{children:[w.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("vacation.budget")," (₪)"]}),w.jsx(E,{type:"number",min:"0",value:i.budget,onChange:e=>h("budget",e.target.value),placeholder:"אופציונלי"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"תיאור החופשה"}),w.jsx("textarea",{value:i.description,onChange:e=>h("description",e.target.value),placeholder:"תארו את החופשה שלכם...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),w.jsxs("div",{className:"flex gap-3 pt-4",children:[w.jsx(N,{type:"submit",disabled:a,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:a?"יוצר...":"צור חופשה"}),w.jsx(N,{type:"button",variant:"outline",onClick:t,disabled:a,children:n("common.cancel")})]})]})]})})})},or=({on_create_vacation:e,view_mode:t,on_view_mode_change:n})=>{const{t:r}=Kn();return w.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r("vacation.title")}),w.jsx("p",{className:"text-gray-600",children:"נהלו את כל תכניות החופשות שלכם במקום אחד"})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[w.jsx("button",{onClick:()=>n("grid"),className:"flex items-center justify-center w-8 h-8 rounded "+("grid"===t?"bg-white shadow-sm text-blue-600":"text-gray-400 hover:text-gray-600"),title:"תצוגת רשת",children:w.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:w.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),w.jsx("button",{onClick:()=>n("list"),className:"flex items-center justify-center w-8 h-8 rounded "+("list"===t?"bg-white shadow-sm text-blue-600":"text-gray-400 hover:text-gray-600"),title:"תצוגת רשימה",children:w.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:w.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]}),w.jsxs(N,{onClick:e,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 text-sm font-medium shadow-lg hover:shadow-xl transition-all duration-200",children:[w.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),r("vacation.new_vacation")]})]})]})},lr=({vacations:e})=>{const t=O.useMemo(()=>({total:e.length,draft:e.filter(e=>"draft"===e.status).length,planning:e.filter(e=>"planning"===e.status).length,confirmed:e.filter(e=>"confirmed"===e.status).length,completed:e.filter(e=>"completed"===e.status).length}),[e]),n=[{title:"סה״כ חופשות",value:t.total,icon:"🏖️",color:"from-blue-500 to-blue-600"},{title:"בתכנון",value:t.planning,icon:"📝",color:"from-yellow-500 to-orange-500"},{title:"מאושרות",value:t.confirmed,icon:"✅",color:"from-green-500 to-emerald-500"},{title:"הושלמו",value:t.completed,icon:"🎉",color:"from-purple-500 to-pink-500"}];return w.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:n.map((e,t)=>w.jsxs(k,{className:"p-4 hover:shadow-lg transition-shadow duration-200",children:[w.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-lg bg-gradient-to-r ${e.color} mb-3`,children:w.jsx("span",{className:"text-2xl",children:e.icon})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:e.value}),w.jsx("p",{className:"text-sm text-gray-600",children:e.title})]})]},t))})},cr=({on_search:e,on_filter:t,vacation_count:n})=>{const[r,a]=M.useState(""),[s,i]=M.useState(!1),[o,l]=M.useState({status:"all",date_range:"all",budget_range:"all"}),c=(e,n)=>{const r=u(d({},o),{[e]:n});l(r),t(r)},h="all"!==o.status||"all"!==o.date_range||"all"!==o.budget_range;return w.jsxs("div",{className:"mb-6",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[w.jsx("div",{className:"flex-1 max-w-md",children:w.jsxs("div",{className:"relative",children:[w.jsx("svg",{className:"w-5 h-5 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),w.jsx(E,{value:r,onChange:t=>{const n=t.target.value;a(n),e(n)},placeholder:"חפשו לפי שם חופשה או יעד...",className:"pr-10"})]})}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("span",{className:"text-sm text-gray-600",children:[n," חופשות"]}),w.jsxs(N,{variant:"outline",onClick:()=>i(!s),className:"relative "+(h?"ring-2 ring-blue-500":""),children:[w.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})}),"סינון",h&&w.jsx("span",{className:"absolute -top-1 -left-1 w-3 h-3 bg-blue-500 rounded-full"})]})]})]}),s&&w.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"סטטוס"}),w.jsxs("select",{value:o.status,onChange:e=>c("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[w.jsx("option",{value:"all",children:"כל הסטטוסים"}),w.jsx("option",{value:"draft",children:"טיוטה"}),w.jsx("option",{value:"planning",children:"בתכנון"}),w.jsx("option",{value:"confirmed",children:"מאושר"}),w.jsx("option",{value:"completed",children:"הושלם"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"טווח תאריכים"}),w.jsxs("select",{value:o.date_range,onChange:e=>c("date_range",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[w.jsx("option",{value:"all",children:"כל התאריכים"}),w.jsx("option",{value:"upcoming",children:"חופשות עתידיות"}),w.jsx("option",{value:"past",children:"חופשות שעברו"}),w.jsx("option",{value:"this_year",children:"השנה"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"טווח תקציב"}),w.jsxs("select",{value:o.budget_range,onChange:e=>c("budget_range",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[w.jsx("option",{value:"all",children:"כל התקציבים"}),w.jsx("option",{value:"low",children:"עד 5,000 ₪"}),w.jsx("option",{value:"medium",children:"5,000 - 15,000 ₪"}),w.jsx("option",{value:"high",children:"מעל 15,000 ₪"})]})]})]}),h&&w.jsx("div",{className:"mt-4 flex justify-end",children:w.jsx(N,{variant:"outline",onClick:()=>{const e={status:"all",date_range:"all",budget_range:"all"};l(e),t(e)},className:"text-sm",children:"נקה סינונים"})})]})]})},dr=()=>{const{vacations:e,loading:t,error:n}={vacations:qn(e=>e.vacations),loading:qn(e=>e.loading),error:qn(e=>e.error),add_vacation:qn(e=>e.add_vacation),update_vacation:qn(e=>e.update_vacation),delete_vacation:qn(e=>e.delete_vacation)},[r,a]=M.useState(!1),[s,i]=M.useState("grid"),[o,l]=M.useState(""),[c,d]=M.useState({status:"all",date_range:"all",budget_range:"all"}),u=M.useMemo(()=>{let t=[...e];if(o.trim()){const e=o.toLowerCase().trim();t=t.filter(t=>{var n;return t.title.toLowerCase().includes(e)||t.destination.toLowerCase().includes(e)||(null==(n=t.description)?void 0:n.toLowerCase().includes(e))})}if("all"!==c.status&&(t=t.filter(e=>e.status===c.status)),"all"!==c.date_range){const e=new Date,n=e.getFullYear();t=t.filter(t=>{const r=new Date(t.start_date);switch(c.date_range){case"upcoming":return r>=e;case"past":return r<e;case"this_year":return r.getFullYear()===n;default:return!0}})}return"all"!==c.budget_range&&void 0!==c.budget_range&&(t=t.filter(e=>{if(!e.budget)return"low"===c.budget_range;switch(c.budget_range){case"low":return e.budget<=5e3;case"medium":return e.budget>5e3&&e.budget<=15e3;case"high":return e.budget>15e3;default:return!0}})),t},[e,o,c]);return w.jsx("div",{className:"min-h-screen bg-gray-50 rtl:text-right",children:w.jsxs(j,{className:"py-8",children:[w.jsx(or,{on_create_vacation:()=>a(!0),view_mode:s,on_view_mode_change:i}),w.jsx(lr,{vacations:e}),w.jsx(cr,{on_search:l,on_filter:d,vacation_count:u.length}),w.jsx(sr,{vacations:u,loading:t,error:n,view_mode:s,on_create_vacation:()=>a(!0)}),r&&w.jsx(ir,{on_close:()=>a(!1)})]})})},ur=({total_days:e,selected_day:t,on_day_select:n,start_date:r,activities:a})=>{const s=e=>a.filter(t=>t.day===e).length,i=e=>{switch(e){case"empty":default:return"bg-gray-100 text-gray-400";case"partial":return"bg-yellow-100 text-yellow-600";case"full":return"bg-green-100 text-green-600"}};return w.jsx("div",{className:"space-y-2 p-4",children:Array.from({length:e},(e,a)=>{const o=a+1,l=(e=>new Date(new Date(r).getTime()+24*(e-1)*60*60*1e3))(o),c=s(o),d=(e=>{const t=s(e);return 0===t?"empty":t<3?"partial":"full"})(o),u=o===t;return w.jsx("button",{onClick:()=>n(o),className:"w-full p-3 rounded-lg text-right transition-all "+(u?"bg-blue-600 text-white shadow-md":"bg-white hover:bg-gray-50 border border-gray-200"),children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[w.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${u?"bg-blue-400 text-white":i(d)}`,children:c}),w.jsxs("span",{className:"text-sm font-medium",children:["יום ",o]})]}),w.jsx("div",{className:"text-sm opacity-75",children:er(l,"short")})]})},o)})})};var hr,mr;const vr="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function pr(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function fr(e){return"nodeType"in e}function xr(e){var t,n;return e?pr(e)?e:fr(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function gr(e){const{Document:t}=xr(e);return e instanceof t}function br(e){return!pr(e)&&e instanceof xr(e).HTMLElement}function yr(e){return e instanceof xr(e).SVGElement}function wr(e){return e?pr(e)?e.document:fr(e)?gr(e)?e:br(e)||yr(e)?e.ownerDocument:document:document:document}const jr=vr?M.useLayoutEffect:M.useEffect;function Nr(e){const t=M.useRef(e);return jr(()=>{t.current=e}),M.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function _r(e,t){void 0===t&&(t=[e]);const n=M.useRef(e);return jr(()=>{n.current!==e&&(n.current=e)},t),n}function Cr(e,t){const n=M.useRef();return M.useMemo(()=>{const t=e(n.current);return n.current=t,t},[...t])}function kr(e){const t=Nr(e),n=M.useRef(null),r=M.useCallback(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,r]}function Sr(e){const t=M.useRef();return M.useEffect(()=>{t.current=e},[e]),t.current}let Er={};function Rr(e,t){return M.useMemo(()=>{if(t)return t;const n=null==Er[e]?0:Er[e]+1;return Er[e]=n,e+"-"+n},[e,t])}function Mr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[a,s]of r){const n=t[a];null!=n&&(t[a]=n+e*s)}return t},d({},t))}}const Dr=Mr(1),Or=Mr(-1);function Lr(e){if(!e)return!1;const{KeyboardEvent:t}=xr(e.target);return t&&e instanceof t}function Pr(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=xr(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Tr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Tr.Translate.toString(e),Tr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Ar="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ir(e){return e.matches(Ar)?e:e.querySelector(Ar)}const Fr={display:"none"};function Br(e){let{id:t,value:n}=e;return O.createElement("div",{id:t,style:Fr},n)}function zr(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return O.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}const Wr=M.createContext(null),Ur={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},qr={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Hr(e){let{announcements:t=qr,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=Ur}=e;const{announce:s,announcement:i}=function(){const[e,t]=M.useState("");return{announce:M.useCallback(e=>{null!=e&&t(e)},[]),announcement:e}}(),o=Rr("DndLiveRegion"),[l,c]=M.useState(!1);if(M.useEffect(()=>{c(!0)},[]),function(e){const t=M.useContext(Wr);M.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}(M.useMemo(()=>({onDragStart(e){let{active:n}=e;s(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&s(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;s(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;s(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;s(t.onDragCancel({active:n,over:r}))}}),[s,t])),!l)return null;const d=O.createElement(O.Fragment,null,O.createElement(Br,{id:r,value:a.draggable}),O.createElement(zr,{id:o,announcement:i}));return n?R.createPortal(d,n):d}var $r;function Kr(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}($r||($r={}));const Qr=Object.freeze({x:0,y:0});function Vr(e,t){const n=Pr(e);return n?(n.x-t.left)/t.width*100+"% "+(n.y-t.top)/t.height*100+"%":"0 0"}function Yr(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Gr(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),i=a-r,o=s-n;if(r<a&&n<s){const n=t.width*t.height,r=e.width*e.height,a=i*o;return Number((a/(n+r-a)).toFixed(4))}return 0}const Jr=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const s of r){const{id:e}=s,r=n.get(e);if(r){const n=Gr(r,t);n>0&&a.push({id:e,data:{droppableContainer:s,value:n}})}}return a.sort(Yr)};function Xr(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Qr}function Zr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>u(d({},t),{top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),d({},t))}}const ea=Zr(1);function ta(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const na={ignoreTransform:!1};function ra(e,t){void 0===t&&(t=na);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=xr(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=ta(t);if(!r)return e;const{scaleX:a,scaleY:s,x:i,y:o}=r,l=e.left-i-(1-a)*parseFloat(n),c=e.top-o-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?e.width/a:e.width,u=s?e.height/s:e.height;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l}}(n,t,r))}const{top:r,left:a,width:s,height:i,bottom:o,right:l}=n;return{top:r,left:a,width:s,height:i,bottom:o,right:l}}function aa(e){return ra(e,{ignoreTransform:!0})}function sa(e,t){const n=[];return e?function r(a){if(null!=t&&n.length>=t)return n;if(!a)return n;if(gr(a)&&null!=a.scrollingElement&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!br(a)||yr(a))return n;if(n.includes(a))return n;const s=xr(e).getComputedStyle(a);return a!==e&&function(e,t){void 0===t&&(t=xr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"==typeof r&&n.test(r)})}(a,s)&&n.push(a),function(e,t){return void 0===t&&(t=xr(e).getComputedStyle(e)),"fixed"===t.position}(a,s)?n:r(a.parentNode)}(e):n}function ia(e){const[t]=sa(e,1);return null!=t?t:null}function oa(e){return vr&&e?pr(e)?e:fr(e)?gr(e)||e===wr(e).scrollingElement?window:br(e)?e:null:null:null}function la(e){return pr(e)?e.scrollX:e.scrollLeft}function ca(e){return pr(e)?e.scrollY:e.scrollTop}function da(e){return{x:la(e),y:ca(e)}}var ua,ha;function ma(e){return!(!vr||!e)&&e===document.scrollingElement}function va(e){const t={x:0,y:0},n=ma(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}(ha=ua||(ua={}))[ha.Forward=1]="Forward",ha[ha.Backward=-1]="Backward";const pa={x:.2,y:.2};function fa(e,t,n,r,a){let{top:s,left:i,right:o,bottom:l}=n;void 0===r&&(r=10),void 0===a&&(a=pa);const{isTop:c,isBottom:d,isLeft:u,isRight:h}=va(e),m={x:0,y:0},v={x:0,y:0},p=t.height*a.y,f=t.width*a.x;return!c&&s<=t.top+p?(m.y=ua.Backward,v.y=r*Math.abs((t.top+p-s)/p)):!d&&l>=t.bottom-p&&(m.y=ua.Forward,v.y=r*Math.abs((t.bottom-p-l)/p)),!h&&o>=t.right-f?(m.x=ua.Forward,v.x=r*Math.abs((t.right-f-o)/f)):!u&&i<=t.left+f&&(m.x=ua.Backward,v.x=r*Math.abs((t.left+f-i)/f)),{direction:m,speed:v}}function xa(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function ga(e){return e.reduce((e,t)=>Dr(e,da(t)),Qr)}function ba(e,t){if(void 0===t&&(t=ra),!e)return;const{top:n,left:r,bottom:a,right:s}=t(e);ia(e)&&(a<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ya=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+la(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+ca(t),0)}]];class wa{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=sa(t),r=ga(n);this.rect=d({},e),this.width=e.width,this.height=e.height;for(const[a,s,i]of ya)for(const e of s)Object.defineProperty(this,e,{get:()=>{const t=i(n),s=r[a]-t;return this.rect[e]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ja{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Na(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(l(n,2)+l(r,2))>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var _a,Ca,ka,Sa;function Ea(e){e.preventDefault()}function Ra(e){e.stopPropagation()}(Ca=_a||(_a={})).Click="click",Ca.DragStart="dragstart",Ca.Keydown="keydown",Ca.ContextMenu="contextmenu",Ca.Resize="resize",Ca.SelectionChange="selectionchange",Ca.VisibilityChange="visibilitychange",(Sa=ka||(ka={})).Space="Space",Sa.Down="ArrowDown",Sa.Right="ArrowRight",Sa.Left="ArrowLeft",Sa.Up="ArrowUp",Sa.Esc="Escape",Sa.Enter="Enter",Sa.Tab="Tab";const Ma={start:[ka.Space,ka.Enter],cancel:[ka.Esc],end:[ka.Space,ka.Enter,ka.Tab]},Da=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ka.Right:return u(d({},n),{x:n.x+25});case ka.Left:return u(d({},n),{x:n.x-25});case ka.Down:return u(d({},n),{y:n.y+25});case ka.Up:return u(d({},n),{y:n.y-25})}};class Oa{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new ja(wr(t)),this.windowListeners=new ja(xr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(_a.Resize,this.handleCancel),this.windowListeners.add(_a.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(_a.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&ba(n),t(Qr)}handleKeyDown(e){if(Lr(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:a=Ma,coordinateGetter:s=Da,scrollBehavior:i="smooth"}=r,{code:o}=e;if(a.end.includes(o))return void this.handleEnd(e);if(a.cancel.includes(o))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:Qr;this.referenceCoordinates||(this.referenceCoordinates=c);const d=s(e,{active:t,context:n.current,currentCoordinates:c});if(d){const t=Or(d,c),r={x:0,y:0},{scrollableAncestors:a}=n.current;for(const n of a){const a=e.code,{isTop:s,isRight:o,isLeft:l,isBottom:c,maxScroll:u,minScroll:h}=va(n),m=xa(n),v={x:Math.min(a===ka.Right?m.right-m.width/2:m.right,Math.max(a===ka.Right?m.left:m.left+m.width/2,d.x)),y:Math.min(a===ka.Down?m.bottom-m.height/2:m.bottom,Math.max(a===ka.Down?m.top:m.top+m.height/2,d.y))},p=a===ka.Right&&!o||a===ka.Left&&!l,f=a===ka.Down&&!c||a===ka.Up&&!s;if(p&&v.x!==d.x){const e=n.scrollLeft+t.x,s=a===ka.Right&&e<=u.x||a===ka.Left&&e>=h.x;if(s&&!t.y)return void n.scrollTo({left:e,behavior:i});r.x=s?n.scrollLeft-e:a===ka.Right?n.scrollLeft-u.x:n.scrollLeft-h.x,r.x&&n.scrollBy({left:-r.x,behavior:i});break}if(f&&v.y!==d.y){const e=n.scrollTop+t.y,s=a===ka.Down&&e<=u.y||a===ka.Up&&e>=h.y;if(s&&!t.x)return void n.scrollTo({top:e,behavior:i});r.y=s?n.scrollTop-e:a===ka.Down?n.scrollTop-u.y:n.scrollTop-h.y,r.y&&n.scrollBy({top:-r.y,behavior:i});break}}this.handleMove(e,Dr(Or(d,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function La(e){return Boolean(e&&"distance"in e)}function Pa(e){return Boolean(e&&"delay"in e)}Oa.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Ma,onActivation:a}=t,{active:s}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const t=s.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==a||a({event:e.nativeEvent}),0))}return!1}}];class Ta{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=xr(e);return e instanceof t?e:wr(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:s}=a;this.props=e,this.events=t,this.document=wr(s),this.documentListeners=new ja(this.document),this.listeners=new ja(n),this.windowListeners=new ja(xr(s)),this.initialCoordinates=null!=(r=Pr(a))?r:Qr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(_a.Resize,this.handleCancel),this.windowListeners.add(_a.DragStart,Ea),this.windowListeners.add(_a.VisibilityChange,this.handleCancel),this.windowListeners.add(_a.ContextMenu,Ea),this.documentListeners.add(_a.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Pa(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(La(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(_a.Click,Ra,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(_a.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:a}=this,{onMove:s,options:{activationConstraint:i}}=a;if(!r)return;const o=null!=(t=Pr(e))?t:Qr,l=Or(r,o);if(!n&&i){if(La(i)){if(null!=i.tolerance&&Na(l,i.tolerance))return this.handleCancel();if(Na(l,i.distance))return this.handleStart()}return Pa(i)&&Na(l,i.tolerance)?this.handleCancel():void this.handlePending(i,l)}e.cancelable&&e.preventDefault(),s(o)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===ka.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Aa={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ia extends Ta{constructor(e){const{event:t}=e,n=wr(t.target);super(e,Aa,n)}}Ia.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button||(null==r||r({event:n}),0))}}];const Fa={move:{name:"mousemove"},end:{name:"mouseup"}};var Ba,za;(za=Ba||(Ba={}))[za.RightClick=2]="RightClick",class extends Ta{constructor(e){super(e,Fa,wr(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Ba.RightClick&&(null==r||r({event:n}),!0)}}];const Wa={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var Ua,qa,Ha,$a;function Ka(e){let{acceleration:t,activator:n=Ua.Pointer,canScroll:r,draggingRect:a,enabled:s,interval:i=5,order:o=Ha.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:d,delta:u,threshold:h}=e;const m=function(e){let{delta:t,disabled:n}=e;const r=Sr(t);return Cr(e=>{if(n||!r||!e)return Qa;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[ua.Backward]:e.x[ua.Backward]||-1===a.x,[ua.Forward]:e.x[ua.Forward]||1===a.x},y:{[ua.Backward]:e.y[ua.Backward]||-1===a.y,[ua.Forward]:e.y[ua.Forward]||1===a.y}}},[n,t,r])}({delta:u,disabled:!s}),[v,p]=function(){const e=M.useRef(null);return[M.useCallback((t,n)=>{e.current=setInterval(t,n)},[]),M.useCallback(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),f=M.useRef({x:0,y:0}),x=M.useRef({x:0,y:0}),g=M.useMemo(()=>{switch(n){case Ua.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Ua.DraggableRect:return a}},[n,a,l]),b=M.useRef(null),y=M.useCallback(()=>{const e=b.current;if(!e)return;const t=f.current.x*x.current.x,n=f.current.y*x.current.y;e.scrollBy(t,n)},[]),w=M.useMemo(()=>o===Ha.TreeOrder?[...c].reverse():c,[o,c]);M.useEffect(()=>{if(s&&c.length&&g){for(const e of w){if(!1===(null==r?void 0:r(e)))continue;const n=c.indexOf(e),a=d[n];if(!a)continue;const{direction:s,speed:o}=fa(e,a,g,t,h);for(const e of["x","y"])m[e][s[e]]||(o[e]=0,s[e]=0);if(o.x>0||o.y>0)return p(),b.current=e,v(y,i),f.current=o,void(x.current=s)}f.current={x:0,y:0},x.current={x:0,y:0},p()}else p()},[t,y,r,p,s,i,JSON.stringify(g),JSON.stringify(m),v,c,w,d,JSON.stringify(h)])}(class extends Ta{constructor(e){super(e,Wa)}static setup(){return window.addEventListener(Wa.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Wa.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return!(a.length>1||(null==r||r({event:n}),0))}}],(qa=Ua||(Ua={}))[qa.Pointer=0]="Pointer",qa[qa.DraggableRect=1]="DraggableRect",($a=Ha||(Ha={}))[$a.TreeOrder=0]="TreeOrder",$a[$a.ReversedTreeOrder=1]="ReversedTreeOrder";const Qa={x:{[ua.Backward]:!1,[ua.Forward]:!1},y:{[ua.Backward]:!1,[ua.Forward]:!1}};var Va,Ya,Ga;(Ya=Va||(Va={}))[Ya.Always=0]="Always",Ya[Ya.BeforeDragging=1]="BeforeDragging",Ya[Ya.WhileDragging=2]="WhileDragging",(Ga||(Ga={})).Optimized="optimized";const Ja=new Map;function Xa(e,t){return Cr(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function Za(e){let{callback:t,disabled:n}=e;const r=Nr(t),a=M.useMemo(()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(r)},[n]);return M.useEffect(()=>()=>null==a?void 0:a.disconnect(),[a]),a}function es(e){return new wa(ra(e),e)}function ts(e,t,n){void 0===t&&(t=es);const[r,a]=M.useState(null);function s(){a(r=>{if(!e)return null;var a;if(!1===e.isConnected)return null!=(a=null!=r?r:n)?a:null;const s=t(e);return JSON.stringify(r)===JSON.stringify(s)?r:s})}const i=function(e){let{callback:t,disabled:n}=e;const r=Nr(t),a=M.useMemo(()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(r)},[r,n]);return M.useEffect(()=>()=>null==a?void 0:a.disconnect(),[a]),a}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){s();break}}}}),o=Za({callback:s});return jr(()=>{s(),e?(null==o||o.observe(e),null==i||i.observe(document.body,{childList:!0,subtree:!0})):(null==o||o.disconnect(),null==i||i.disconnect())},[e]),r}const ns=[];function rs(e,t){void 0===t&&(t=[]);const n=M.useRef(null);return M.useEffect(()=>{n.current=null},t),M.useEffect(()=>{const t=e!==Qr;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?Or(e,n.current):Qr}function as(e){return M.useMemo(()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}const ss=[];function is(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return br(t)?t:e}const os=[{sensor:Ia,options:{}},{sensor:Oa,options:{}}],ls={current:{}},cs={draggable:{measure:aa},droppable:{measure:aa,strategy:Va.WhileDragging,frequency:Ga.Optimized},dragOverlay:{measure:ra}};class ds extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const us={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ds,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Kr},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:cs,measureDroppableContainers:Kr,windowRect:null,measuringScheduled:!1},hs={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Kr,draggableNodes:new Map,over:null,measureDroppableContainers:Kr},ms=M.createContext(hs),vs=M.createContext(us);function ps(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ds}}}function fs(e,t){switch(t.type){case $r.DragStart:return u(d({},e),{draggable:u(d({},e.draggable),{initialCoordinates:t.initialCoordinates,active:t.active})});case $r.DragMove:return null==e.draggable.active?e:u(d({},e),{draggable:u(d({},e.draggable),{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})});case $r.DragEnd:case $r.DragCancel:return u(d({},e),{draggable:u(d({},e.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case $r.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new ds(e.droppable.containers);return a.set(r,n),u(d({},e),{droppable:u(d({},e.droppable),{containers:a})})}case $r.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new ds(e.droppable.containers);return i.set(n,u(d({},s),{disabled:a})),u(d({},e),{droppable:u(d({},e.droppable),{containers:i})})}case $r.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const s=new ds(e.droppable.containers);return s.delete(n),u(d({},e),{droppable:u(d({},e.droppable),{containers:s})})}default:return e}}function xs(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=M.useContext(ms),s=Sr(r),i=Sr(null==n?void 0:n.id);return M.useEffect(()=>{if(!t&&!r&&s&&null!=i){if(!Lr(s))return;if(document.activeElement===s.target)return;const e=a.get(i);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=Ir(e);if(t){t.focus();break}}})}},[r,t,a,i,s]),null}function gs(e,t){let n=t,{transform:r}=n,a=h(n,["transform"]);return null!=e&&e.length?e.reduce((e,t)=>t(d({transform:e},a)),r):r}const bs=M.createContext(u(d({},Qr),{scaleX:1,scaleY:1}));var ys,ws;(ws=ys||(ys={}))[ws.Uninitialized=0]="Uninitialized",ws[ws.Initializing=1]="Initializing",ws[ws.Initialized=2]="Initialized";const js=M.memo(function(e){var t,n,r,a;let s=e,{id:i,accessibility:o,autoScroll:l=!0,children:c,sensors:m=os,collisionDetection:v=Jr,measuring:p,modifiers:f}=s,x=h(s,["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"]);const g=M.useReducer(fs,void 0,ps),[b,w]=g,[j,N]=function(){const[e]=M.useState(()=>new Set),t=M.useCallback(t=>(e.add(t),()=>e.delete(t)),[e]);return[M.useCallback(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),t]}(),[_,C]=M.useState(ys.Uninitialized),k=_===ys.Initialized,{draggable:{active:S,nodes:E,translate:D},droppable:{containers:L}}=b,P=null!=S?E.get(S):null,T=M.useRef({initial:null,translated:null}),A=M.useMemo(()=>{var e;return null!=S?{id:S,data:null!=(e=null==P?void 0:P.data)?e:ls,rect:T}:null},[S,P]),I=M.useRef(null),[F,B]=M.useState(null),[z,W]=M.useState(null),U=_r(x,Object.values(x)),q=Rr("DndDescribedBy",i),H=M.useMemo(()=>L.getEnabled(),[L]),$=(K=p,M.useMemo(()=>({draggable:d(d({},cs.draggable),null==K?void 0:K.draggable),droppable:d(d({},cs.droppable),null==K?void 0:K.droppable),dragOverlay:d(d({},cs.dragOverlay),null==K?void 0:K.dragOverlay)}),[null==K?void 0:K.draggable,null==K?void 0:K.droppable,null==K?void 0:K.dragOverlay]));var K;const{droppableRects:Q,measureDroppableContainers:V,measuringScheduled:Y}=function(e,t){let{dragging:n,dependencies:r,config:a}=t;const[s,i]=M.useState(null),{frequency:o,measure:l,strategy:c}=a,d=M.useRef(e),u=function(){switch(c){case Va.Always:return!1;case Va.BeforeDragging:return n;default:return!n}}(),h=_r(u),m=M.useCallback(function(e){void 0===e&&(e=[]),h.current||i(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[h]),v=M.useRef(null),p=Cr(t=>{if(u&&!n)return Ja;if(!t||t===Ja||d.current!==e||null!=s){const t=new Map;for(let n of e){if(!n)continue;if(s&&s.length>0&&!s.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new wa(l(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,s,n,u,l]);return M.useEffect(()=>{d.current=e},[e]),M.useEffect(()=>{u||m()},[n,u]),M.useEffect(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),M.useEffect(()=>{u||"number"!=typeof o||null!==v.current||(v.current=setTimeout(()=>{m(),v.current=null},o))},[o,u,m,...r]),{droppableRects:p,measureDroppableContainers:m,measuringScheduled:null!=s}}(H,{dragging:k,dependencies:[D.x,D.y],config:$.droppable}),G=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return Cr(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(E,S),J=M.useMemo(()=>z?Pr(z):null,[z]),X=function(){const e=!1===(null==F?void 0:F.autoScrollEnabled),t="object"==typeof l?!1===l.enabled:!1===l,n=k&&!e&&!t;return"object"==typeof l?u(d({},l),{enabled:n}):{enabled:n}}(),Z=function(e,t){return Xa(e,t)}(G,$.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const s=M.useRef(!1),{x:i,y:o}="boolean"==typeof a?{x:a,y:a}:a;jr(()=>{if(!i&&!o||!t)return void(s.current=!1);if(s.current||!r)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const a=Xr(n(e),r);if(i||(a.x=0),o||(a.y=0),s.current=!0,Math.abs(a.x)>0||Math.abs(a.y)>0){const t=ia(e);t&&t.scrollBy({top:a.y,left:a.x})}},[t,i,o,r,n])}({activeNode:null!=S?E.get(S):null,config:X.layoutShiftCompensation,initialRect:Z,measure:$.draggable.measure});const ee=ts(G,$.draggable.measure,Z),te=ts(G?G.parentElement:null),ne=M.useRef({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:Q,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),re=L.getNodeFor(null==(t=ne.current.over)?void 0:t.id),ae=function(e){let{measure:t}=e;const[n,r]=M.useState(null),a=Za({callback:M.useCallback(e=>{for(const{target:n}of e)if(br(n)){r(e=>{const r=t(n);return e?u(d({},e),{width:r.width,height:r.height}):r});break}},[t])}),s=M.useCallback(e=>{const n=is(e);null==a||a.disconnect(),n&&(null==a||a.observe(n)),r(n?t(n):null)},[t,a]),[i,o]=kr(s);return M.useMemo(()=>({nodeRef:i,rect:n,setRef:o}),[n,i,o])}({measure:$.dragOverlay.measure}),se=null!=(n=ae.nodeRef.current)?n:G,ie=k?null!=(r=ae.rect)?r:ee:null,oe=Boolean(ae.nodeRef.current&&ae.rect),le=Xr(ce=oe?null:ee,Xa(ce));var ce;const de=as(se?xr(se):null),ue=function(e){const t=M.useRef(e),n=Cr(n=>e?n&&n!==ns&&e&&t.current&&e.parentNode===t.current.parentNode?n:sa(e):ns,[e]);return M.useEffect(()=>{t.current=e},[e]),n}(k?null!=re?re:G:null),he=function(e,t){void 0===t&&(t=ra);const[n]=e,r=as(n?xr(n):null),[a,s]=M.useState(ss);function i(){s(()=>e.length?e.map(e=>ma(e)?r:new wa(t(e),e)):ss)}const o=Za({callback:i});return jr(()=>{null==o||o.disconnect(),i(),e.forEach(e=>null==o?void 0:o.observe(e))},[e]),a}(ue),me=gs(f,{transform:{x:D.x-le.x,y:D.y-le.y,scaleX:1,scaleY:1},activatorEvent:z,active:A,activeNodeRect:ee,containerNodeRect:te,draggingNodeRect:ie,over:ne.current.over,overlayNodeRect:ae.rect,scrollableAncestors:ue,scrollableAncestorRects:he,windowRect:de}),ve=J?Dr(J,D):null,pe=function(e){const[t,n]=M.useState(null),r=M.useRef(e),a=M.useCallback(e=>{const t=oa(e.target);t&&n(e=>e?(e.set(t,da(t)),new Map(e)):null)},[]);return M.useEffect(()=>{const t=r.current;if(e!==t){s(t);const i=e.map(e=>{const t=oa(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,da(t)]):null}).filter(e=>null!=e);n(i.length?new Map(i):null),r.current=e}return()=>{s(e),s(t)};function s(e){e.forEach(e=>{const t=oa(e);null==t||t.removeEventListener("scroll",a)})}},[a,e]),M.useMemo(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>Dr(e,t),Qr):ga(e):Qr,[e,t])}(ue),fe=rs(pe),xe=rs(pe,[ee]),ge=Dr(me,fe),be=ie?ea(ie,me):null,ye=A&&be?v({active:A,collisionRect:be,droppableRects:Q,droppableContainers:H,pointerCoordinates:ve}):null,we=function(e,t){if(!e||0===e.length)return null;const[n]=e;return n[t]}(ye,"id"),[je,Ne]=M.useState(null),_e=function(e,t,n){return u(d({},e),{scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1})}(oe?me:Dr(me,xe),null!=(a=null==je?void 0:je.rect)?a:null,ee),Ce=M.useRef(null),ke=M.useCallback((e,t)=>{let{sensor:n,options:r}=t;if(null==I.current)return;const a=E.get(I.current);if(!a)return;const s=e.nativeEvent,i=new n({active:I.current,activeNode:a,event:s,options:r,context:ne,onAbort(e){if(!E.get(e))return;const{onDragAbort:t}=U.current,n={id:e};null==t||t(n),j({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!E.get(e))return;const{onDragPending:a}=U.current,s={id:e,constraint:t,initialCoordinates:n,offset:r};null==a||a(s),j({type:"onDragPending",event:s})},onStart(e){const t=I.current;if(null==t)return;const n=E.get(t);if(!n)return;const{onDragStart:r}=U.current,a={activatorEvent:s,active:{id:t,data:n.data,rect:T}};R.unstable_batchedUpdates(()=>{null==r||r(a),C(ys.Initializing),w({type:$r.DragStart,initialCoordinates:e,active:t}),j({type:"onDragStart",event:a}),B(Ce.current),W(s)})},onMove(e){w({type:$r.DragMove,coordinates:e})},onEnd:o($r.DragEnd),onCancel:o($r.DragCancel)});function o(e){return function(){return y(this,null,function*(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:a}=ne.current;let i=null;if(t&&a){const{cancelDrop:o}=U.current;i={activatorEvent:s,active:t,collisions:n,delta:a,over:r},e===$r.DragEnd&&"function"==typeof o&&(yield Promise.resolve(o(i)))&&(e=$r.DragCancel)}I.current=null,R.unstable_batchedUpdates(()=>{w({type:e}),C(ys.Uninitialized),Ne(null),B(null),W(null),Ce.current=null;const t=e===$r.DragEnd?"onDragEnd":"onDragCancel";if(i){const e=U.current[t];null==e||e(i),j({type:t,event:i})}})})}}Ce.current=i},[E]),Se=function(e,t){return M.useMemo(()=>e.reduce((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}))]},[]),[e,t])}(m,M.useCallback((e,t)=>(n,r)=>{const a=n.nativeEvent,s=E.get(r);if(null!==I.current||!s||a.dndKit||a.defaultPrevented)return;const i={active:s};!0===e(n,t.options,i)&&(a.dndKit={capturedBy:t.sensor},I.current=r,ke(n,t))},[E,ke]));!function(e){M.useEffect(()=>{if(!vr)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(m),jr(()=>{ee&&_===ys.Initializing&&C(ys.Initialized)},[ee,_]),M.useEffect(()=>{const{onDragMove:e}=U.current,{active:t,activatorEvent:n,collisions:r,over:a}=ne.current;if(!t||!n)return;const s={active:t,activatorEvent:n,collisions:r,delta:{x:ge.x,y:ge.y},over:a};R.unstable_batchedUpdates(()=>{null==e||e(s),j({type:"onDragMove",event:s})})},[ge.x,ge.y]),M.useEffect(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:a}=ne.current;if(!e||null==I.current||!t||!a)return;const{onDragOver:s}=U.current,i=r.get(we),o=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:a.x,y:a.y},over:o};R.unstable_batchedUpdates(()=>{Ne(o),null==s||s(l),j({type:"onDragOver",event:l})})},[we]),jr(()=>{ne.current={activatorEvent:z,active:A,activeNode:G,collisionRect:be,collisions:ye,droppableRects:Q,draggableNodes:E,draggingNode:se,draggingNodeRect:ie,droppableContainers:L,over:je,scrollableAncestors:ue,scrollAdjustedTranslate:ge},T.current={initial:ie,translated:be}},[A,G,ye,be,E,se,ie,Q,L,je,ue,ge]),Ka(u(d({},X),{delta:D,draggingRect:be,pointerCoordinates:ve,scrollableAncestors:ue,scrollableAncestorRects:he}));const Ee=M.useMemo(()=>({active:A,activeNode:G,activeNodeRect:ee,activatorEvent:z,collisions:ye,containerNodeRect:te,dragOverlay:ae,draggableNodes:E,droppableContainers:L,droppableRects:Q,over:je,measureDroppableContainers:V,scrollableAncestors:ue,scrollableAncestorRects:he,measuringConfiguration:$,measuringScheduled:Y,windowRect:de}),[A,G,ee,z,ye,te,ae,E,L,Q,je,V,ue,he,$,Y,de]),Re=M.useMemo(()=>({activatorEvent:z,activators:Se,active:A,activeNodeRect:ee,ariaDescribedById:{draggable:q},dispatch:w,draggableNodes:E,over:je,measureDroppableContainers:V}),[z,Se,A,ee,w,q,E,je,V]);return O.createElement(Wr.Provider,{value:N},O.createElement(ms.Provider,{value:Re},O.createElement(vs.Provider,{value:Ee},O.createElement(bs.Provider,{value:_e},c)),O.createElement(xs,{disabled:!1===(null==o?void 0:o.restoreFocus)})),O.createElement(Hr,u(d({},o),{hiddenTextDescribedById:q})))}),Ns=M.createContext(null),_s="button";function Cs(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const s=Rr("Draggable"),{activators:i,activatorEvent:o,active:l,activeNodeRect:c,ariaDescribedById:d,draggableNodes:u,over:h}=M.useContext(ms),{role:m=_s,roleDescription:v="draggable",tabIndex:p=0}=null!=a?a:{},f=(null==l?void 0:l.id)===t,x=M.useContext(f?bs:Ns),[g,b]=kr(),[y,w]=kr(),j=function(e,t){return M.useMemo(()=>e.reduce((e,n)=>{let{eventName:r,handler:a}=n;return e[r]=e=>{a(e,t)},e},{}),[e,t])}(i,t),N=_r(n);return jr(()=>(u.set(t,{id:t,key:s,node:g,activatorNode:y,data:N}),()=>{const e=u.get(t);e&&e.key===s&&u.delete(t)}),[u,t]),{active:l,activatorEvent:o,activeNodeRect:c,attributes:M.useMemo(()=>({role:m,tabIndex:p,"aria-disabled":r,"aria-pressed":!(!f||m!==_s)||void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,m,p,f,v,d.draggable]),isDragging:f,listeners:r?void 0:j,node:g,over:h,setNodeRef:b,setActivatorNodeRef:w,transform:x}}function ks(){return M.useContext(vs)}const Ss={timeout:25};function Es(e){let{animation:t,children:n}=e;const[r,a]=M.useState(null),[s,i]=M.useState(null),o=Sr(n);return n||r||!o||a(o),jr(()=>{if(!s)return;const e=null==r?void 0:r.key,n=null==r?void 0:r.props.id;null!=e&&null!=n?Promise.resolve(t(n,s)).then(()=>{a(null)}):a(null)},[t,r,s]),O.createElement(O.Fragment,null,n,r?M.cloneElement(r,{ref:i}):null)}const Rs={x:0,y:0,scaleX:1,scaleY:1};function Ms(e){let{children:t}=e;return O.createElement(ms.Provider,{value:hs},O.createElement(bs.Provider,{value:Rs},t))}const Ds={position:"fixed",touchAction:"none"},Os=e=>Lr(e)?"transform 250ms ease":void 0,Ls=M.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:a,children:s,className:i,rect:o,style:l,transform:c,transition:h=Os}=e;if(!o)return null;const m=a?c:u(d({},c),{scaleX:1,scaleY:1}),v=d(u(d({},Ds),{width:o.width,height:o.height,top:o.top,left:o.left,transform:Tr.Transform.toString(m),transformOrigin:a&&r?Vr(r,o):void 0,transition:"function"==typeof h?h(r):h}),l);return O.createElement(n,{className:i,style:v,ref:t},s)}),Ps={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Tr.Transform.toString(t)},{transform:Tr.Transform.toString(n)}]},sideEffects:(e=>t=>{let{active:n,dragOverlay:r}=t;const a={},{styles:s,className:i}=e;if(null!=s&&s.active)for(const[e,o]of Object.entries(s.active))void 0!==o&&(a[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,o));if(null!=s&&s.dragOverlay)for(const[e,o]of Object.entries(s.dragOverlay))void 0!==o&&r.node.style.setProperty(e,o);return null!=i&&i.active&&n.node.classList.add(i.active),null!=i&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[e,t]of Object.entries(a))n.node.style.setProperty(e,t);null!=i&&i.active&&n.node.classList.remove(i.active)}})({styles:{active:{opacity:"0"}}})};function Ts(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=e;return Nr((e,s)=>{if(null===t)return;const i=n.get(e);if(!i)return;const o=i.node.current;if(!o)return;const l=is(s);if(!l)return;const{transform:c}=xr(s).getComputedStyle(s),m=ta(c);if(!m)return;const v="function"==typeof t?t:function(e){const{duration:t,easing:n,sideEffects:r,keyframes:a}=d(d({},Ps),e);return e=>{let s=e,{active:i,dragOverlay:o,transform:l}=s,c=h(s,["active","dragOverlay","transform"]);if(!t)return;const m={x:o.rect.left-i.rect.left,y:o.rect.top-i.rect.top},v={scaleX:1!==l.scaleX?i.rect.width*l.scaleX/o.rect.width:1,scaleY:1!==l.scaleY?i.rect.height*l.scaleY/o.rect.height:1},p=d({x:l.x-m.x,y:l.y-m.y},v),f=a(u(d({},c),{active:i,dragOverlay:o,transform:{initial:l,final:p}})),[x]=f,g=f[f.length-1];if(JSON.stringify(x)===JSON.stringify(g))return;const b=null==r?void 0:r(d({active:i,dragOverlay:o},c)),y=o.node.animate(f,{duration:t,easing:n,fill:"forwards"});return new Promise(e=>{y.onfinish=()=>{null==b||b(),e()}})}}(t);return ba(o,a.draggable.measure),v({active:{id:e,data:i.data,node:o,rect:a.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:s,rect:a.dragOverlay.measure(l)},droppableContainers:r,measuringConfiguration:a,transform:m})})}let As=0;const Is=O.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:a,transition:s,modifiers:i,wrapperElement:o="div",className:l,zIndex:c=999}=e;const{activatorEvent:u,active:h,activeNodeRect:m,containerNodeRect:v,draggableNodes:p,droppableContainers:f,dragOverlay:x,over:g,measuringConfiguration:b,scrollableAncestors:y,scrollableAncestorRects:w,windowRect:j}=ks(),N=M.useContext(bs),_=(C=null==h?void 0:h.id,M.useMemo(()=>{if(null!=C)return As++,As},[C]));var C;const k=gs(i,{activatorEvent:u,active:h,activeNodeRect:m,containerNodeRect:v,draggingNodeRect:x.rect,over:g,overlayNodeRect:x.rect,scrollableAncestors:y,scrollableAncestorRects:w,transform:N,windowRect:j}),S=Xa(m),E=Ts({config:r,draggableNodes:p,droppableContainers:f,measuringConfiguration:b}),R=S?x.setRef:void 0;return O.createElement(Ms,null,O.createElement(Es,{animation:E},h&&_?O.createElement(Ls,{key:_,id:h.id,ref:R,as:o,activatorEvent:u,adjustScale:t,className:l,transition:s,rect:S,style:d({zIndex:c},a),transform:k},n):null))});function Fs(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Bs(e,t){return e.reduce((e,n,r)=>{const a=t.get(n);return a&&(e[r]=a),e},Array(e.length))}function zs(e){return null!==e&&e>=0}const Ws=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const s=Fs(t,r,n),i=t[a],o=s[a];return o&&i?{x:o.left-i.left,y:o.top-i.top,scaleX:o.width/i.width,scaleY:o.height/i.height}:null},Us={scaleX:1,scaleY:1},qs=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:s,overIndex:i}=e;const o=null!=(t=s[n])?t:r;if(!o)return null;if(a===n){const e=s[i];return e?d({x:0,y:n<i?e.top+e.height-(o.top+o.height):e.top-o.top},Us):null}const l=function(e,t,n){const r=e[t],a=e[t-1],s=e[t+1];return r?n<t?a?r.top-(a.top+a.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}(s,a,n);return d(a>n&&a<=i?{x:0,y:-o.height-l}:a<n&&a>=i?{x:0,y:o.height+l}:{x:0,y:0},Us)},Hs="Sortable",$s=O.createContext({activeIndex:-1,containerId:Hs,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ws,disabled:{draggable:!1,droppable:!1}});function Ks(e){let{children:t,id:n,items:r,strategy:a=Ws,disabled:s=!1}=e;const{active:i,dragOverlay:o,droppableRects:l,over:c,measureDroppableContainers:d}=ks(),u=Rr(Hs,n),h=Boolean(null!==o.rect),m=M.useMemo(()=>r.map(e=>"object"==typeof e&&"id"in e?e.id:e),[r]),v=null!=i,p=i?m.indexOf(i.id):-1,f=c?m.indexOf(c.id):-1,x=M.useRef(m),g=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(m,x.current),b=-1!==f&&-1===p||g,y=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(s);jr(()=>{g&&v&&d(m)},[g,m,v,d]),M.useEffect(()=>{x.current=m},[m]);const w=M.useMemo(()=>({activeIndex:p,containerId:u,disabled:y,disableTransforms:b,items:m,overIndex:f,useDragOverlay:h,sortedRects:Bs(m,l),strategy:a}),[p,u,y.draggable,y.droppable,b,m,f,l,h,a]);return O.createElement($s.Provider,{value:w},t)}const Qs=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return Fs(n,r,a).indexOf(t)},Vs=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:s,newIndex:i,previousItems:o,previousContainerId:l,transition:c}=e;return!(!c||!r||o!==s&&a===i||!n&&(i===a||t!==l))},Ys={duration:200,easing:"ease"},Gs="transform",Js=Tr.Transition.toString({property:Gs,duration:0,easing:"linear"}),Xs={roleDescription:"sortable"};function Zs(e){let{animateLayoutChanges:t=Vs,attributes:n,disabled:r,data:a,getNewIndex:s=Qs,id:i,strategy:o,resizeObserverConfig:l,transition:c=Ys}=e;const{items:h,containerId:m,activeIndex:v,disabled:p,disableTransforms:f,sortedRects:x,overIndex:g,useDragOverlay:b,strategy:y}=M.useContext($s),w=function(e,t){var n,r;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(r,p),j=h.indexOf(i),N=M.useMemo(()=>d({sortable:{containerId:m,index:j,items:h}},a),[m,a,j,h]),_=M.useMemo(()=>h.slice(h.indexOf(i)),[h,i]),{rect:C,node:k,isOver:S,setNodeRef:E}=function(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const s=Rr("Droppable"),{active:i,dispatch:o,over:l,measureDroppableContainers:c}=M.useContext(ms),u=M.useRef({disabled:n}),h=M.useRef(!1),m=M.useRef(null),v=M.useRef(null),{disabled:p,updateMeasurementsFor:f,timeout:x}=d(d({},Ss),a),g=_r(null!=f?f:r),b=Za({callback:M.useCallback(()=>{h.current?(null!=v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{c(Array.isArray(g.current)?g.current:[g.current]),v.current=null},x)):h.current=!0},[x]),disabled:p||!i}),y=M.useCallback((e,t)=>{b&&(t&&(b.unobserve(t),h.current=!1),e&&b.observe(e))},[b]),[w,j]=kr(y),N=_r(t);return M.useEffect(()=>{b&&w.current&&(b.disconnect(),h.current=!1,b.observe(w.current))},[w,b]),M.useEffect(()=>(o({type:$r.RegisterDroppable,element:{id:r,key:s,disabled:n,node:w,rect:m,data:N}}),()=>o({type:$r.UnregisterDroppable,key:s,id:r})),[r]),M.useEffect(()=>{n!==u.current.disabled&&(o({type:$r.SetDroppableDisabled,id:r,key:s,disabled:n}),u.current.disabled=n)},[r,s,n,o]),{active:i,rect:m,isOver:(null==l?void 0:l.id)===r,node:w,over:l,setNodeRef:j}}({id:i,data:N,disabled:w.droppable,resizeObserverConfig:d({updateMeasurementsFor:_},l)}),{active:R,activatorEvent:D,activeNodeRect:O,attributes:L,setNodeRef:P,listeners:T,isDragging:A,over:I,setActivatorNodeRef:F,transform:B}=Cs({id:i,data:N,attributes:d(d({},Xs),n),disabled:w.draggable}),z=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M.useMemo(()=>e=>{t.forEach(t=>t(e))},t)}(E,P),W=Boolean(R),U=W&&!f&&zs(v)&&zs(g),q=!b&&A,H=q&&U?B:null,$=U?null!=H?H:(null!=o?o:y)({rects:x,activeNodeRect:O,activeIndex:v,overIndex:g,index:j}):null,K=zs(v)&&zs(g)?s({id:i,items:h,activeIndex:v,overIndex:g}):j,Q=null==R?void 0:R.id,V=M.useRef({activeId:Q,items:h,newIndex:K,containerId:m}),Y=h!==V.current.items,G=t({active:R,containerId:m,isDragging:A,isSorting:W,id:i,index:j,items:h,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:c,wasDragging:null!=V.current.activeId}),J=function(e){let{disabled:t,index:n,node:r,rect:a}=e;const[s,i]=M.useState(null),o=M.useRef(n);return jr(()=>{if(!t&&n!==o.current&&r.current){const e=a.current;if(e){const t=ra(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&i(n)}}n!==o.current&&(o.current=n)},[t,n,r,a]),M.useEffect(()=>{s&&i(null)},[s]),s}({disabled:!G,index:j,node:k,rect:C});return M.useEffect(()=>{W&&V.current.newIndex!==K&&(V.current.newIndex=K),m!==V.current.containerId&&(V.current.containerId=m),h!==V.current.items&&(V.current.items=h)},[W,K,m,h]),M.useEffect(()=>{if(Q===V.current.activeId)return;if(Q&&!V.current.activeId)return void(V.current.activeId=Q);const e=setTimeout(()=>{V.current.activeId=Q},50);return()=>clearTimeout(e)},[Q]),{active:R,activeIndex:v,attributes:L,data:N,rect:C,index:j,newIndex:K,items:h,isOver:S,isSorting:W,isDragging:A,listeners:T,node:k,overIndex:g,over:I,setNodeRef:z,setActivatorNodeRef:F,setDroppableNodeRef:E,setDraggableNodeRef:P,transform:null!=J?J:$,transition:J||Y&&V.current.newIndex===j?Js:q&&!Lr(D)||!c?void 0:W||G?Tr.Transition.toString(u(d({},c),{property:Gs})):void 0}}ka.Down,ka.Right,ka.Up,ka.Left;const ei=({activity:e,on_drag_start:t,on_update:n,on_delete:r})=>{const[a,s]=M.useState(!1),[i,o]=M.useState({title:e.title,description:e.description||"",location:e.location||"",start_time:e.start_time||"",end_time:e.end_time||"",cost:e.cost||0,notes:e.notes||""}),l=()=>{n(i),s(!1)},c=()=>{o({title:e.title,description:e.description||"",location:e.location||"",start_time:e.start_time||"",end_time:e.end_time||"",cost:e.cost||0,notes:e.notes||""}),s(!1)};return a?w.jsx("div",{className:"bg-white border border-blue-200 rounded-lg p-4 shadow-sm",children:w.jsxs("div",{className:"space-y-3",children:[w.jsx("input",{type:"text",value:i.title,onChange:e=>o(u(d({},i),{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-right",placeholder:"שם הפעילות"}),w.jsx("textarea",{value:i.description,onChange:e=>o(u(d({},i),{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-right h-20 resize-none",placeholder:"תיאור הפעילות"}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsx("input",{type:"time",value:i.start_time,onChange:e=>o(u(d({},i),{start_time:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md text-right"}),w.jsx("input",{type:"time",value:i.end_time,onChange:e=>o(u(d({},i),{end_time:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md text-right"})]}),w.jsx("input",{type:"text",value:i.location,onChange:e=>o(u(d({},i),{location:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-right",placeholder:"מיקום"}),w.jsx("input",{type:"number",value:i.cost,onChange:e=>o(u(d({},i),{cost:Number(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-right",placeholder:"עלות (₪)"}),w.jsxs("div",{className:"flex justify-end space-x-2 rtl:space-x-reverse",children:[w.jsx("button",{onClick:c,className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"ביטול"}),w.jsx("button",{onClick:l,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"שמור"})]})]})}):w.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow",children:w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mb-2",children:[w.jsx("h5",{className:"font-medium text-gray-900",children:e.title}),w.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${(e=>{const t={accommodation:"bg-blue-100 text-blue-800",food:"bg-green-100 text-green-800",activity:"bg-purple-100 text-purple-800",transport:"bg-yellow-100 text-yellow-800",other:"bg-gray-100 text-gray-800"};return t[e]||t.other})(e.category)}`,children:(e=>{const t={accommodation:"לינה",food:"אוכל",activity:"פעילות",transport:"תחבורה",other:"אחר"};return t[e]||t.other})(e.category)})]}),e.description&&w.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),w.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse text-sm text-gray-500",children:[(e.start_time||e.end_time)&&w.jsx("span",{children:e.start_time&&e.end_time?`${e.start_time} - ${e.end_time}`:e.start_time||e.end_time}),e.location&&w.jsxs("span",{className:"flex items-center",children:[w.jsxs("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.location]}),e.cost&&e.cost>0&&w.jsxs("span",{className:"flex items-center font-medium text-green-600",children:[w.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),e.cost," ₪"]})]})]}),w.jsxs("div",{className:"flex items-center space-x-1 rtl:space-x-reverse",children:[w.jsx("button",{onClick:()=>s(!0),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"עריכה",children:w.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),w.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"מחיקה",children:w.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})})},ti=({activity:e,on_update:t,on_delete:n})=>{const{attributes:r,listeners:a,setNodeRef:s,transform:i,transition:o,isDragging:l}=Zs({id:e.id}),c={transform:Tr.Transform.toString(i),transition:o,opacity:l?.5:1};return w.jsx("div",u(d(d({ref:s,style:c},r),a),{children:w.jsx(ei,{activity:e,on_drag_start:()=>{},on_update:t,on_delete:n})}))},ni=({vacation_id:e,day:t,variant:n="secondary",suggested_time:r})=>{const{add_activity:a}=Hn(),[s,i]=M.useState(!1),[o,l]=M.useState({title:"",description:"",category:"activity",start_time:r||"",cost:0}),c=()=>{o.title.trim()&&(a(d({vacation_id:e,day:t},o)),l({title:"",description:"",category:"activity",start_time:r||"",cost:0}),i(!1))},h="primary"===n?"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium":"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors";return s?w.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[w.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"הוספת פעילות מהירה"}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("input",{type:"text",value:o.title,onChange:e=>l(u(d({},o),{title:e.target.value})),placeholder:"שם הפעילות",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-right",autoFocus:!0}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("select",{value:o.category,onChange:e=>l(u(d({},o),{category:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md text-right",children:[w.jsx("option",{value:"activity",children:"פעילות"}),w.jsx("option",{value:"food",children:"אוכל"}),w.jsx("option",{value:"accommodation",children:"לינה"}),w.jsx("option",{value:"transport",children:"תחבורה"}),w.jsx("option",{value:"other",children:"אחר"})]}),w.jsx("input",{type:"time",value:o.start_time,onChange:e=>l(u(d({},o),{start_time:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md text-right"})]}),w.jsxs("div",{className:"flex justify-end space-x-2 rtl:space-x-reverse",children:[w.jsx("button",{onClick:()=>i(!1),className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"ביטול"}),w.jsx("button",{onClick:c,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"הוסף"})]})]})]}):w.jsx("div",{className:"relative",children:w.jsxs("button",{onClick:()=>i(!0),className:h,children:[w.jsx("svg",{className:"w-5 h-5 inline ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"הוסף פעילות"]})})},ri=({activities:e,selected_day:t,vacation_id:n})=>{const{update_activity:r,delete_activity:a}=Hn(),[s,i]=M.useState(null),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M.useMemo(()=>[...t].filter(e=>null!=e),[...t])}((l=Ia,c={activationConstraint:{distance:8}},M.useMemo(()=>({sensor:l,options:null!=c?c:{}}),[l,c])));var l,c;const d=[...e].sort((e,t)=>e.start_time&&t.start_time?e.start_time.localeCompare(t.start_time):e.start_time&&!t.start_time?-1:!e.start_time&&t.start_time?1:0);return 0===d.length?w.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:w.jsxs("div",{className:"text-center max-w-md",children:[w.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),w.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"אין פעילויות מתוכננות ליום זה"}),w.jsxs("p",{className:"text-gray-500 mb-6",children:["התחל בהוספת הפעילות הראשונה ליום ",t," של החופשה"]}),w.jsx(ni,{vacation_id:n,day:t,variant:"primary"})]})}):w.jsxs(js,{sensors:o,onDragStart:e=>{const{active:t}=e,n=d.find(e=>e.id===t.id);i(n||null)},onDragEnd:e=>{const{active:t,over:n}=e;if(i(null),n&&t.id!==n.id){const e=d.findIndex(e=>e.id===t.id),a=d.findIndex(e=>e.id===n.id);Fs(d,e,a).forEach((e,t)=>{const n=`${(Math.floor(2*t)+8).toString().padStart(2,"0")}:00`;e.start_time!==n&&r(e.id,{start_time:n})})}},children:[w.jsx("div",{className:"flex-1 bg-gray-50 overflow-y-auto",children:w.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["לוח זמנים יומי - ",d.length," פעילויות"]}),w.jsx(ni,{vacation_id:n,day:t,variant:"secondary"})]}),w.jsx(Ks,{items:d.map(e=>e.id),strategy:qs,children:w.jsx("div",{className:"space-y-4",children:d.map(e=>w.jsxs("div",{className:"flex",children:[w.jsx("div",{className:"w-16 flex-shrink-0 text-sm text-gray-500 font-medium pt-2",children:e.start_time||"--:--"}),w.jsx("div",{className:"flex-1",children:w.jsx(ti,{activity:e,on_update:t=>r(e.id,t),on_delete:()=>a(e.id)})})]},e.id))})})]})}),w.jsx(Is,{children:s?w.jsxs("div",{className:"flex",children:[w.jsx("div",{className:"w-16 flex-shrink-0 text-sm text-gray-500 font-medium pt-2",children:s.start_time||"--:--"}),w.jsx("div",{className:"flex-1",children:w.jsx(ei,{activity:s,on_drag_start:()=>{},on_update:()=>{},on_delete:()=>{}})})]}):null})]})},ai=({vacation_id:e,selected_day:t,on_close:n})=>{const{add_activity:r}=Hn(),[a,s]=M.useState({title:"",description:"",location:"",start_time:"",end_time:"",cost:0,category:"activity",notes:""});return w.jsxs("div",{className:"w-96 bg-white border-r border-gray-200 shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[w.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["הוספת פעילות ליום ",t]}),w.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),w.jsxs("div",{className:"p-4 space-y-6",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"הצעות פעילויות"}),w.jsx("div",{className:"grid grid-cols-1 gap-2",children:[{title:"ביקור במוזיאון",category:"activity",duration:120},{title:"טיול חוף",category:"activity",duration:180},{title:"ארוחה במסעדה מקומית",category:"food",duration:90},{title:"קניות בשוק",category:"activity",duration:120},{title:"סיור עירוני",category:"activity",duration:150},{title:"פעילות ספורט",category:"activity",duration:90}].map((e,t)=>w.jsxs("button",{onClick:()=>(e=>{s(u(d({},a),{title:e.title,category:e.category}))})(e),className:"text-right p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[w.jsx("div",{className:"font-medium text-gray-900",children:e.title}),w.jsxs("div",{className:"text-sm text-gray-500",children:[e.duration," דקות"]})]},t))})]}),w.jsxs("form",{onSubmit:n=>{n.preventDefault(),a.title.trim()&&(r(d({vacation_id:e,day:t},a)),s({title:"",description:"",location:"",start_time:"",end_time:"",cost:0,category:"activity",notes:""}))},className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שם הפעילות *"}),w.jsx("input",{type:"text",value:a.title,onChange:e=>s(u(d({},a),{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-right",placeholder:"לדוגמה: ביקור בכותל המערבי",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"תיאור"}),w.jsx("textarea",{value:a.description,onChange:e=>s(u(d({},a),{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-right h-20 resize-none",placeholder:"תיאור קצר של הפעילות"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"מיקום"}),w.jsx("input",{type:"text",value:a.location,onChange:e=>s(u(d({},a),{location:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-right",placeholder:"כתובת או שם המקום"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שעת התחלה"}),w.jsx("input",{type:"time",value:a.start_time,onChange:e=>s(u(d({},a),{start_time:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-right"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שעת סיום"}),w.jsx("input",{type:"time",value:a.end_time,onChange:e=>s(u(d({},a),{end_time:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-right"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"קטגוריה"}),w.jsxs("select",{value:a.category,onChange:e=>s(u(d({},a),{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-right",children:[w.jsx("option",{value:"activity",children:"פעילות"}),w.jsx("option",{value:"food",children:"אוכל"}),w.jsx("option",{value:"accommodation",children:"לינה"}),w.jsx("option",{value:"transport",children:"תחבורה"}),w.jsx("option",{value:"other",children:"אחר"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"עלות (₪)"}),w.jsx("input",{type:"number",value:a.cost,onChange:e=>s(u(d({},a),{cost:Number(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-right",min:"0",placeholder:"0"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"הערות"}),w.jsx("textarea",{value:a.notes,onChange:e=>s(u(d({},a),{notes:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-right h-16 resize-none",placeholder:"הערות נוספות"})]}),w.jsx("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"הוסף פעילות"})]})]})]})},si=e=>{if(!e||"string"!=typeof e||!e.includes(":"))return 0;try{const[t,n]=e.split(":").map(Number);return isNaN(t)||isNaN(n)?0:60*t+(n||0)}catch(t){return console.warn("Invalid time format:",e),0}},ii=e=>{if("number"!=typeof e||isNaN(e)||e<0)return"00:00";const t=Math.floor(e/60)%24,n=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},oi=(e,t)=>{if(!e||!t)return 0;const n=si(e),r=si(t);return r<n?1440-n+r:r-n},li=(e,t,n,r)=>{if(!(e&&t&&n&&r))return!1;const a=si(e),s=si(t),i=si(n);return a<si(r)&&i<s},ci=(e,t,n,r)=>{if(!li(e,t,n,r))return 0;const a=si(e),s=si(t),i=si(n),o=si(r),l=Math.max(a,i);return Math.min(s,o)-l},di=(e,t="short")=>{if(e<=0)return"short"===t?"0m":"0 דקות";const n=Math.floor(e/60),r=e%60;if("short"===t)return n>0&&r>0?`${n}h ${r}m`:n>0?`${n}h`:`${r}m`;{const e=[];return n>0&&e.push(`${n} ${1===n?"שעה":"שעות"}`),r>0&&e.push(`${r} ${1===r?"דקה":"דקות"}`),e.join(" ו")}},ui=(e,t="08:00")=>{const n=[];let r=si(t);const a=[...e].sort((e,t)=>e.start_time&&!t.start_time?-1:!e.start_time&&t.start_time?1:e.start_time&&t.start_time?si(e.start_time)-si(t.start_time):(t.duration_minutes||60)-(e.duration_minutes||60));for(const s of a){const e=s.duration_minutes||60,t=s.start_time?si(s.start_time):r,a=Math.max(t,r),i=a+e;n.push({id:s.id,start_time:ii(a),end_time:ii(i)}),r=i+15}return n},hi=({activities:e,on_resolve_conflict:t})=>{const n=(()=>{const t=[];for(let n=0;n<e.length;n++)for(let r=n+1;r<e.length;r++){const a=e[n],s=e[r];if(a.start_time&&a.end_time&&s.start_time&&s.end_time&&li(a.start_time,a.end_time,s.start_time,s.end_time)){const e=ci(a.start_time,a.end_time,s.start_time,s.end_time);t.push({activity1:a,activity2:s,overlap_minutes:e})}}return t})();return 0===n.length?null:w.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[w.jsxs("div",{className:"flex items-center mb-3",children:[w.jsx("svg",{className:"w-5 h-5 text-red-600 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.728-.833-2.498 0L4.316 15.5c-.77.833.192 2.5 1.732 2.5z"})}),w.jsx("h4",{className:"text-sm font-medium text-red-800",children:1===n.length?"התנגשות בלוח הזמנים":`${n.length} התנגשויות בלוח הזמנים`})]}),w.jsx("div",{className:"space-y-3",children:n.map((e,n)=>w.jsxs("div",{className:"bg-white rounded-md p-3 border border-red-100",children:[w.jsxs("div",{className:"text-sm text-red-800",children:[w.jsxs("div",{className:"font-medium mb-1",children:['התנגשות בין "',e.activity1.title,'" ו-"',e.activity2.title,'"']}),w.jsxs("div",{className:"text-red-600 text-xs",children:["חפיפה של ",di(e.overlap_minutes,"long")]}),w.jsxs("div",{className:"text-red-600 text-xs mt-1",children:[e.activity1.title,": ",e.activity1.start_time," - ",e.activity1.end_time,w.jsx("br",{}),e.activity2.title,": ",e.activity2.start_time," - ",e.activity2.end_time]})]}),t&&w.jsx("div",{className:"mt-2 flex space-x-2 rtl:space-x-reverse",children:w.jsx("button",{onClick:()=>t(e.activity1.id,e.activity2.id),className:"text-xs px-2 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"פתור אוטומטית"})})]},n))})]})},mi=({vacation_id:e,current_day:t,total_days:n,day_activities:r,on_auto_schedule:a})=>{const{add_activity:s,update_activity:i}=Hn(),[o,l]=M.useState(!1),[c,d]=M.useState(!1);return w.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.length>0&&w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>d(!c),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",title:"ארגון אוטומטי",children:[w.jsx("svg",{className:"w-4 h-4 inline ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})}),"ארגון אוטומטי"]}),c&&w.jsx("div",{className:"absolute top-full mt-1 left-0 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:w.jsxs("div",{className:"p-2",children:[w.jsx("button",{onClick:()=>{const e=r.map(e=>({id:e.id,start_time:e.start_time,duration_minutes:e.start_time&&e.end_time?Math.max(60,oi(e.start_time,e.end_time)):60}));ui(e).forEach(({id:e,start_time:t,end_time:n})=>{i(e,{start_time:t,end_time:n})}),d(!1),null==a||a()},className:"w-full text-right px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:"ארגן פעילויות בלוח זמנים"}),w.jsx("button",{onClick:()=>{confirm(`האם אתה בטוח שברצונך למחוק את כל הפעילויות של יום ${t}?`)&&r.forEach(e=>{i(e.id,{start_time:"",end_time:""})})},className:"w-full text-right px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded",children:"נקה את לוח הזמנים"})]})})]}),r.length>0&&w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>l(!o),className:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",title:"העתק יום",children:[w.jsx("svg",{className:"w-4 h-4 inline ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"העתק יום"]}),o&&w.jsx("div",{className:"absolute top-full mt-1 left-0 w-40 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:w.jsxs("div",{className:"p-2",children:[w.jsx("div",{className:"text-xs text-gray-500 px-3 py-1 font-medium",children:"העתק ליום:"}),Array.from({length:n},(n,a)=>{const i=a+1;return i===t?null:w.jsxs("button",{onClick:()=>{return t=i,r.forEach(n=>{s({vacation_id:e,day:t,title:n.title,description:n.description,location:n.location,start_time:n.start_time,end_time:n.end_time,cost:n.cost,category:n.category,notes:n.notes})}),void l(!1);var t},className:"w-full text-right px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:["יום ",i]},i)})]})})]})]})},vi=()=>{const{current_vacation:e,activities:t}=(()=>{const e=qn(e=>e.current_vacation),t=qn(e=>e.set_current_vacation),n=qn(t=>e?t.get_vacation_activities(e.id):[]);return{current_vacation:e,set_current_vacation:t,activities:n}})(),{update_activity:n}=Hn(),[r,a]=M.useState(1),[s,i]=M.useState(!1);if(!e)return w.jsx("div",{className:"flex items-center justify-center min-h-96",children:w.jsxs("div",{className:"text-center",children:[w.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"לא נבחרה חופשה"}),w.jsx("p",{className:"text-gray-500",children:"בחר חופשה מהדשבורד כדי להתחיל לתכנן את המסלול היומי"})]})});const o=Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/864e5)+1,l=t.filter(e=>e.day===r);return w.jsxs("div",{className:"flex h-full bg-gray-50",children:[w.jsxs("div",{className:"w-64 bg-white shadow-sm border-l border-gray-200 overflow-y-auto",children:[w.jsxs("div",{className:"p-4 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.title}),w.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[er(new Date(e.start_date))," - ",er(new Date(e.end_date))]})]}),w.jsx(ur,{total_days:o,selected_day:r,on_day_select:a,start_date:e.start_date,activities:t})]}),w.jsxs("div",{className:"flex-1 flex flex-col",children:[w.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["יום ",r," - ",er(new Date(new Date(e.start_date).getTime()+24*(r-1)*60*60*1e3))]}),w.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[w.jsx(mi,{vacation_id:e.id,current_day:r,total_days:o,day_activities:l}),w.jsx("button",{onClick:()=>i(!s),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:s?"סגור פעילויות":"הוסף פעילות"})]})]}),w.jsx(hi,{activities:l,on_resolve_conflict:(e,t)=>{const r=l.map(e=>({id:e.id,start_time:e.start_time,duration_minutes:e.start_time&&e.end_time?Math.max(60,oi(e.start_time,e.end_time)):60}));ui(r).forEach(({id:e,start_time:t,end_time:r})=>{n(e,{start_time:t,end_time:r})})}})]}),w.jsxs("div",{className:"flex-1 flex",children:[w.jsx(ri,{activities:l,selected_day:r,vacation_id:e.id}),s&&w.jsx(ai,{vacation_id:e.id,selected_day:r,on_close:()=>i(!1)})]})]})]})},pi=()=>w.jsx("div",{className:"min-h-screen bg-gray-50 rtl:text-right",children:w.jsxs("div",{className:"h-screen flex flex-col",children:[w.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"מתכנן החופשה"})}),w.jsx("div",{className:"flex-1",children:w.jsx(vi,{})})]})}),fi=new dn({defaultOptions:{queries:{staleTime:3e5,refetchOnWindowFocus:!1}}});function xi(){return M.useEffect(()=>{},[]),w.jsx(kn,{children:w.jsx(fn,{children:w.jsx(hn,{client:fi,children:w.jsx(bt,{basename:"/vacationplan",children:w.jsx(Rn,{children:w.jsx(kn,{fallback:w.jsx("div",{className:"p-4 text-center hebrew-text",children:"שגיאה בטעינת העמוד"}),children:w.jsxs(vt,{children:[w.jsx(ht,{path:"/",element:w.jsx(Mn,{})}),w.jsx(ht,{path:"/dashboard",element:w.jsx(dr,{})}),w.jsx(ht,{path:"/planner",element:w.jsx(pi,{})}),w.jsx(ht,{path:"/planner/:vacationId",element:w.jsx(pi,{})})]})})})})})})})}ue(document.getElementById("root")).render(w.jsx(M.StrictMode,{children:w.jsx(xi,{})}))}},function(){return P||(0,L[r(L)[0]])((P={exports:{}}).exports,P),P.exports});export default T();
